const _0x5e0f6d=_0x3c3e;(function(_0x28c778,_0x92a015){const _0x1803db=_0x3c3e,_0x17ba31=_0x28c778();while(!![]){try{const _0x123eac=parseInt(_0x1803db(0x263))/0x1+-parseInt(_0x1803db(0x299))/0x2+-parseInt(_0x1803db(0x19e))/0x3+-parseInt(_0x1803db(0x1e0))/0x4*(-parseInt(_0x1803db(0x254))/0x5)+parseInt(_0x1803db(0x1a5))/0x6*(parseInt(_0x1803db(0x18d))/0x7)+parseInt(_0x1803db(0x22b))/0x8*(parseInt(_0x1803db(0x256))/0x9)+-parseInt(_0x1803db(0x1ba))/0xa;if(_0x123eac===_0x92a015)break;else _0x17ba31['push'](_0x17ba31['shift']());}catch(_0x4eae26){_0x17ba31['push'](_0x17ba31['shift']());}}}(_0xef99,0x8caf1));class Renderer{constructor(_0x326cf6){const _0x325ddc=_0x3c3e;this[_0x325ddc(0x250)]=_0x326cf6,this['_objects']=[],this[_0x325ddc(0x206)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x5e0f6d(0x20e)](){const _0x2c8e63=_0x5e0f6d;if(!navigator[_0x2c8e63(0x22a)])throw Error(_0x2c8e63(0x289));const _0x2d1b4a=await navigator[_0x2c8e63(0x22a)][_0x2c8e63(0x1d0)]();if(!_0x2d1b4a)throw Error(_0x2c8e63(0x1ad));this['_device']=await _0x2d1b4a[_0x2c8e63(0x29a)](),this[_0x2c8e63(0x1f7)]=this[_0x2c8e63(0x250)]['getContext'](_0x2c8e63(0x201)),this[_0x2c8e63(0x1cb)]=navigator[_0x2c8e63(0x22a)][_0x2c8e63(0x1c7)](),this[_0x2c8e63(0x1f7)][_0x2c8e63(0x215)]({'device':this['_device'],'format':this[_0x2c8e63(0x1cb)]}),this[_0x2c8e63(0x18a)](),window[_0x2c8e63(0x241)]('resize',this[_0x2c8e63(0x18a)]['bind'](this));}[_0x5e0f6d(0x18a)](){const _0x11439b=_0x5e0f6d,_0x4dcdb9=window['devicePixelRatio']||0x1,_0x2fcd9b=window[_0x11439b(0x21c)]*_0x4dcdb9,_0x4dafed=window[_0x11439b(0x1fc)]*_0x4dcdb9;this[_0x11439b(0x250)]['width']=_0x2fcd9b,this[_0x11439b(0x250)]['height']=_0x4dafed,this[_0x11439b(0x250)][_0x11439b(0x24f)][_0x11439b(0x1d5)]=window['innerWidth']+'px',this[_0x11439b(0x250)][_0x11439b(0x24f)]['height']=window['innerHeight']+'px',this[_0x11439b(0x250)][_0x11439b(0x24f)]['transformOrigin']='center',this['render']();}async[_0x5e0f6d(0x230)](_0x1b5e26){const _0x1a472c=_0x5e0f6d;await _0x1b5e26[_0x1a472c(0x20e)](),this['_objects'][_0x1a472c(0x28c)](_0x1b5e26);}[_0x5e0f6d(0x21a)](_0x42d679){const _0x59fd0a=_0x5e0f6d;for(const _0x94fcd3 of this['_objects']){_0x94fcd3?.['updateGeometry']();}let _0x39251d=this[_0x59fd0a(0x243)][_0x59fd0a(0x189)]();const _0x44b16f=_0x39251d[_0x59fd0a(0x194)]({'colorAttachments':[{'view':_0x42d679,'clearValue':this[_0x59fd0a(0x206)],'loadOp':_0x59fd0a(0x23d),'storeOp':_0x59fd0a(0x272)}]});for(const _0x360f0c of this['_objects']){_0x360f0c?.['render'](_0x44b16f);}_0x44b16f[_0x59fd0a(0x298)]();const _0x42013d=_0x39251d[_0x59fd0a(0x197)]();for(const _0x3d1f79 of this[_0x59fd0a(0x1b3)]){_0x3d1f79?.['compute'](_0x42013d);}_0x42013d[_0x59fd0a(0x298)]();const _0x4b4f67=_0x39251d[_0x59fd0a(0x20a)]();this[_0x59fd0a(0x243)]['queue'][_0x59fd0a(0x283)]([_0x4b4f67]);}[_0x5e0f6d(0x27e)](){const _0x105dcb=_0x5e0f6d;this[_0x105dcb(0x21a)](this[_0x105dcb(0x1f7)][_0x105dcb(0x216)]()[_0x105dcb(0x21e)]());}}class RayTracer extends Renderer{constructor(_0x3b308d){const _0x591686=_0x5e0f6d;super(_0x3b308d),this[_0x591686(0x24d)]=null;}async[_0x5e0f6d(0x20e)](){const _0x4eb2f5=_0x5e0f6d;if(!navigator[_0x4eb2f5(0x22a)])throw Error(_0x4eb2f5(0x289));const _0x25f1b6=await navigator['gpu'][_0x4eb2f5(0x1d0)]();if(!_0x25f1b6)throw Error(_0x4eb2f5(0x1ad));this[_0x4eb2f5(0x243)]=await _0x25f1b6[_0x4eb2f5(0x29a)](),this[_0x4eb2f5(0x1f7)]=this['_canvas'][_0x4eb2f5(0x290)]('webgpu'),this[_0x4eb2f5(0x1cb)]=_0x4eb2f5(0x221),this[_0x4eb2f5(0x1f7)][_0x4eb2f5(0x215)]({'device':this['_device'],'format':this['_canvasFormat']}),this[_0x4eb2f5(0x19a)]=this[_0x4eb2f5(0x243)]['createShaderModule']({'label':_0x4eb2f5(0x1d2),'code':_0x4eb2f5(0x212)}),this[_0x4eb2f5(0x269)]=this[_0x4eb2f5(0x243)]['createBuffer']({'label':_0x4eb2f5(0x29c),'size':0x8,'usage':GPUBufferUsage[_0x4eb2f5(0x19f)]|GPUBufferUsage[_0x4eb2f5(0x1bc)]}),this[_0x4eb2f5(0x1c5)]=this[_0x4eb2f5(0x243)]['createRenderPipeline']({'label':_0x4eb2f5(0x21b),'layout':_0x4eb2f5(0x26d),'vertex':{'module':this[_0x4eb2f5(0x19a)],'entryPoint':_0x4eb2f5(0x223)},'fragment':{'module':this[_0x4eb2f5(0x19a)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x4eb2f5(0x1cb)]}]}}),this[_0x4eb2f5(0x190)]=this[_0x4eb2f5(0x243)][_0x4eb2f5(0x1ed)]({'label':'Ray\x20Tracer\x20Sampler','magFilter':_0x4eb2f5(0x23f),'minFilter':_0x4eb2f5(0x23f)}),this[_0x4eb2f5(0x18a)](),window[_0x4eb2f5(0x241)](_0x4eb2f5(0x282),this['resizeCanvas'][_0x4eb2f5(0x286)](this));}['resizeCanvas'](){const _0xf48573=_0x5e0f6d,_0x3d5f6f=window['devicePixelRatio']||0x1,_0x47a9df=window['innerWidth']*_0x3d5f6f,_0x26b45b=window[_0xf48573(0x1fc)]*_0x3d5f6f,_0x149614=_0x47a9df/_0x26b45b,_0x2e8e18=_0x26b45b;let _0x24acf2={'width':_0x2e8e18*_0x149614,'height':_0x2e8e18};this['_offScreenTexture']=this[_0xf48573(0x243)][_0xf48573(0x1f2)]({'size':_0x24acf2,'format':this['_canvasFormat'],'usage':GPUTextureUsage[_0xf48573(0x251)]|GPUTextureUsage[_0xf48573(0x264)]}),this[_0xf48573(0x24d)]&&(this[_0xf48573(0x24d)][_0xf48573(0x22d)]=this[_0xf48573(0x292)][_0xf48573(0x1d5)],this['_tracer'][_0xf48573(0x205)]=this['_offScreenTexture']['height'],this[_0xf48573(0x24d)][_0xf48573(0x21f)](),this['_tracer'][_0xf48573(0x1e9)](this['_offScreenTexture'])),this[_0xf48573(0x1a7)]=this[_0xf48573(0x243)][_0xf48573(0x1e9)]({'label':_0xf48573(0x1b8),'layout':this[_0xf48573(0x1c5)][_0xf48573(0x204)](0x0),'entries':[{'binding':0x0,'resource':this['_offScreenTexture']['createView']()},{'binding':0x1,'resource':this[_0xf48573(0x190)]},{'binding':0x2,'resource':{'buffer':this[_0xf48573(0x269)]}}]}),super[_0xf48573(0x18a)](),this[_0xf48573(0x243)][_0xf48573(0x239)][_0xf48573(0x1af)](this[_0xf48573(0x269)],0x0,new Float32Array([_0x47a9df,_0x26b45b]));}async[_0x5e0f6d(0x235)](_0xfc5f1e){const _0x3eb9fc=_0x5e0f6d;await _0xfc5f1e['init'](),_0xfc5f1e['_imgWidth']=this[_0x3eb9fc(0x292)][_0x3eb9fc(0x1d5)],_0xfc5f1e['_imgHeight']=this[_0x3eb9fc(0x292)]['height'],_0xfc5f1e[_0x3eb9fc(0x21f)](),this[_0x3eb9fc(0x24d)]=_0xfc5f1e,this[_0x3eb9fc(0x24d)][_0x3eb9fc(0x1e9)](this[_0x3eb9fc(0x292)]);}['render'](){const _0x37652c=_0x5e0f6d;if(this[_0x37652c(0x24d)]){let _0x120b8d=this[_0x37652c(0x243)][_0x37652c(0x189)]();const _0x35a37b=_0x120b8d['beginComputePass']();this[_0x37652c(0x24d)][_0x37652c(0x1bf)](_0x35a37b),_0x35a37b[_0x37652c(0x298)](),this[_0x37652c(0x243)][_0x37652c(0x239)][_0x37652c(0x283)]([_0x120b8d['finish']()]);}let _0x16b5fc=this[_0x37652c(0x243)]['createCommandEncoder']();const _0x3949a9=_0x16b5fc['beginRenderPass']({'colorAttachments':[{'view':this['_context'][_0x37652c(0x216)]()['createView'](),'clearValue':this[_0x37652c(0x206)],'loadOp':_0x37652c(0x23d),'storeOp':_0x37652c(0x272)}]});_0x3949a9[_0x37652c(0x244)](this[_0x37652c(0x1c5)]),_0x3949a9['setBindGroup'](0x0,this[_0x37652c(0x1a7)]),_0x3949a9[_0x37652c(0x1c9)](0x6),_0x3949a9[_0x37652c(0x298)](),this[_0x37652c(0x243)]['queue'][_0x37652c(0x283)]([_0x16b5fc[_0x37652c(0x20a)]()]);}}class StandardTextObject{constructor(_0x556361,_0x30e55b=0x5,_0x45fbec='18px\x20Arial'){const _0x5f2c91=_0x5e0f6d;this['_textFont']=_0x45fbec,this[_0x5f2c91(0x1fb)]=_0x30e55b,this[_0x5f2c91(0x248)]=document[_0x5f2c91(0x1dc)](_0x5f2c91(0x1fa)),this['_textContext']=this[_0x5f2c91(0x248)][_0x5f2c91(0x290)]('2d'),this['updateTextRegion'](_0x556361),this[_0x5f2c91(0x260)](_0x556361),this[_0x5f2c91(0x248)][_0x5f2c91(0x24f)][_0x5f2c91(0x297)]=_0x5f2c91(0x188),this['_textCanvas'][_0x5f2c91(0x24f)]['top']=_0x5f2c91(0x202),this[_0x5f2c91(0x248)][_0x5f2c91(0x24f)][_0x5f2c91(0x1db)]=_0x5f2c91(0x202),this[_0x5f2c91(0x248)][_0x5f2c91(0x24f)][_0x5f2c91(0x22c)]=_0x5f2c91(0x228),document['body'][_0x5f2c91(0x1b1)](this['_textCanvas']);}[_0x5e0f6d(0x218)](){const _0x590c5c=_0x5e0f6d;this['_textCanvas'][_0x590c5c(0x1ab)]=!this[_0x590c5c(0x248)][_0x590c5c(0x1ab)];}[_0x5e0f6d(0x193)](_0x5b8575){const _0xd19eb3=_0x5e0f6d;this[_0xd19eb3(0x214)]['font']=this['_textFont'],this[_0xd19eb3(0x24c)]=_0x5b8575['split']('\x0a'),this[_0xd19eb3(0x25b)]=Math[_0xd19eb3(0x1ac)](...this[_0xd19eb3(0x24c)][_0xd19eb3(0x1b9)](_0xece551=>this[_0xd19eb3(0x214)][_0xd19eb3(0x1fd)](_0xece551)[_0xd19eb3(0x1d5)]));const _0x1c0de2=this[_0xd19eb3(0x1ef)][_0xd19eb3(0x24b)](/(\d+)px/);_0x1c0de2?this[_0xd19eb3(0x29d)]=parseInt(_0x1c0de2[0x1],0xa):(this['_fontSize']=0x12,this[_0xd19eb3(0x1ef)]='18px\x20Arial'),this[_0xd19eb3(0x1c4)]=this[_0xd19eb3(0x24c)][_0xd19eb3(0x1d6)]*(this[_0xd19eb3(0x29d)]+this[_0xd19eb3(0x1fb)]),this[_0xd19eb3(0x291)]=0x5,this[_0xd19eb3(0x1d1)]=0x3,this[_0xd19eb3(0x1ce)]=Math['ceil'](this[_0xd19eb3(0x25b)]+this[_0xd19eb3(0x291)]*0x2),this[_0xd19eb3(0x232)]=Math[_0xd19eb3(0x209)](this[_0xd19eb3(0x1c4)]+this['_paddingtop']),this[_0xd19eb3(0x248)][_0xd19eb3(0x1d5)]=this['_canvasWidth'],this[_0xd19eb3(0x248)][_0xd19eb3(0x1c6)]=this[_0xd19eb3(0x232)],this[_0xd19eb3(0x214)][_0xd19eb3(0x207)]=this[_0xd19eb3(0x1ef)],this[_0xd19eb3(0x214)][_0xd19eb3(0x23c)]=_0xd19eb3(0x20c);}[_0x5e0f6d(0x260)](_0x2455cc){const _0x1991f6=_0x5e0f6d;this[_0x1991f6(0x24c)]=_0x2455cc[_0x1991f6(0x1e7)]('\x0a'),this[_0x1991f6(0x214)][_0x1991f6(0x1cc)]='rgba(1,\x201,\x201,\x200.5)',this[_0x1991f6(0x214)][_0x1991f6(0x270)](0x0,0x0,this[_0x1991f6(0x1ce)],this[_0x1991f6(0x232)]),this[_0x1991f6(0x214)][_0x1991f6(0x1d7)](0x0,0x0,this[_0x1991f6(0x1ce)],this[_0x1991f6(0x232)]),this[_0x1991f6(0x214)]['fillStyle']='white',this[_0x1991f6(0x24c)]['forEach']((_0x414d1a,_0x5260cb)=>{const _0x3d2a49=_0x1991f6,_0x4f9ee0=this[_0x3d2a49(0x291)],_0x5828e4=this['_paddingtop']+_0x5260cb*(this[_0x3d2a49(0x29d)]+this['_lineSpacing']);this[_0x3d2a49(0x214)][_0x3d2a49(0x1b5)](_0x414d1a,_0x4f9ee0,_0x5828e4);});}}class SceneObject{static [_0x5e0f6d(0x198)]=0x0;constructor(_0x52f7b5,_0x2f2afb){const _0x397fe9=_0x5e0f6d;if(this[_0x397fe9(0x257)]==SceneObject)throw new Error(_0x397fe9(0x1be));this['_device']=_0x52f7b5,this[_0x397fe9(0x1cb)]=_0x2f2afb,SceneObject[_0x397fe9(0x198)]+=0x1;}[_0x5e0f6d(0x27f)](){const _0x743b1a=_0x5e0f6d;return this[_0x743b1a(0x257)][_0x743b1a(0x1c3)]+'\x20'+SceneObject[_0x743b1a(0x198)][_0x743b1a(0x295)]();}async[_0x5e0f6d(0x20e)](){const _0x2676d5=_0x5e0f6d;await this[_0x2676d5(0x20d)](),await this[_0x2676d5(0x220)](),await this['createRenderPipeline'](),await this[_0x2676d5(0x279)]();}async[_0x5e0f6d(0x20d)](){const _0x4b722d=_0x5e0f6d;throw new Error(_0x4b722d(0x24a));}[_0x5e0f6d(0x21f)](){}[_0x5e0f6d(0x1b0)](_0x2c8354){return new Promise((_0x1753c2,_0x24ac69)=>{const _0x19a5d1=_0x3c3e,_0x33de29=new XMLHttpRequest();_0x33de29[_0x19a5d1(0x25e)](_0x19a5d1(0x1d8),_0x2c8354),_0x33de29[_0x19a5d1(0x229)](_0x19a5d1(0x18c),_0x19a5d1(0x1e3)),_0x33de29['onload']=function(){const _0x1e8336=_0x19a5d1;_0x33de29['readyState']===XMLHttpRequest[_0x1e8336(0x245)]&&_0x33de29[_0x1e8336(0x26f)]===0xc8?_0x1753c2(_0x33de29[_0x1e8336(0x19c)]):_0x24ac69({'status':_0x33de29['status'],'statusText':_0x33de29['statusText']});},_0x33de29['onerror']=function(){const _0x9da342=_0x19a5d1;_0x24ac69({'status':_0x33de29[_0x9da342(0x26f)],'statusText':_0x33de29[_0x9da342(0x1f1)]});},_0x33de29[_0x19a5d1(0x18f)]();});}async[_0x5e0f6d(0x220)](){const _0x345ca0=_0x5e0f6d;throw new Error(_0x345ca0(0x22f));}async[_0x5e0f6d(0x242)](){const _0x33e826=_0x5e0f6d;throw new Error(_0x33e826(0x1a1));}[_0x5e0f6d(0x27e)](_0x3af6cf){const _0x730d39=_0x5e0f6d;throw new Error(_0x730d39(0x195));}async[_0x5e0f6d(0x279)](){const _0x5ef83c=_0x5e0f6d;throw new Error(_0x5ef83c(0x1ee));}[_0x5e0f6d(0x1bf)](_0x1739fd){throw new Error('Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.');}}class RayTracingObject extends SceneObject{async[_0x5e0f6d(0x20d)](){}async['createShaders'](){const _0x32e9fe=_0x5e0f6d;let _0x318630=await this['loadShader'](_0x32e9fe(0x236));this[_0x32e9fe(0x19a)]=this[_0x32e9fe(0x243)][_0x32e9fe(0x1dd)]({'label':_0x32e9fe(0x1b6)+this['getName'](),'code':_0x318630});}[_0x5e0f6d(0x21f)](){}async[_0x5e0f6d(0x242)](){}[_0x5e0f6d(0x27e)](_0x41448c){}async[_0x5e0f6d(0x279)](){const _0x1d3510=_0x5e0f6d;this[_0x1d3510(0x1c1)]=this[_0x1d3510(0x243)][_0x1d3510(0x279)]({'label':_0x1d3510(0x1a6)+this['getName'](),'layout':'auto','compute':{'module':this[_0x1d3510(0x19a)],'entryPoint':_0x1d3510(0x1e2)}});}[_0x5e0f6d(0x1e9)](_0x56ae16){const _0x537a10=_0x5e0f6d;this[_0x537a10(0x1a7)]=this['_device']['createBindGroup']({'label':'Ray\x20Tracing\x20Bind\x20Group','layout':this[_0x537a10(0x1c1)][_0x537a10(0x204)](0x0),'entries':[{'binding':0x0,'resource':_0x56ae16['createView']()}]}),this['_wgWidth']=Math['ceil'](_0x56ae16[_0x537a10(0x1d5)]),this[_0x537a10(0x1e1)]=Math[_0x537a10(0x209)](_0x56ae16[_0x537a10(0x1c6)]);}['compute'](_0x207958){const _0x1b8c9e=_0x5e0f6d;_0x207958[_0x1b8c9e(0x244)](this['_computePipeline']),_0x207958[_0x1b8c9e(0x26b)](0x0,this[_0x1b8c9e(0x1a7)]),_0x207958[_0x1b8c9e(0x1f9)](Math[_0x1b8c9e(0x209)](this[_0x1b8c9e(0x249)]/0x10),Math[_0x1b8c9e(0x209)](this[_0x1b8c9e(0x1e1)]/0x10));}}function _0xef99(){const _0xf65d5c=['Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','appendSceneObject','white','_canvasHeight','btnForward','createLine','setTracerObject','./shaders/optimized_tracenothing.wgsl','extractRotor','point','queue','_pose','lambertian','textBaseline','clear','updateCameraFocal','linear','Camera\x20','addEventListener','createRenderPipeline','_device','setPipeline','DONE','fontFamily','\x0a\x20\x20\x20\x20\x20\x20<h3>Camera\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20<!--\x20Translation\x20buttons\x20-->\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnForward\x22>Forward\x20(Z-)</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnBackward\x22>Backward\x20(Z+)</button><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLeft\x22>Left\x20(X-)</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRight\x22>Right\x20(X+)</button><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnUp\x22>Up\x20(Y+)</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnDown\x22>Down\x20(Y-)</button>\x0a\x20\x20\x20\x20\x20\x20<hr/>\x0a\x20\x20\x20\x20\x20\x20<!--\x20Rotation\x20buttons\x20-->\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRotXPos\x22>Rotate\x20+X</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRotXNeg\x22>Rotate\x20-X</button><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRotYPos\x22>Rotate\x20+Y</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRotYNeg\x22>Rotate\x20-Y</button><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRotZPos\x22>Rotate\x20+Z</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnRotZNeg\x22>Rotate\x20-Z</button>\x0a\x20\x20\x20\x20\x20\x20<hr/>\x0a\x20\x20\x20\x20\x20\x20<!--\x20Light\x20Type\x20Selection\x20-->\x0a\x20\x20\x20\x20\x20\x20<h3>Light\x20Type</h3>\x0a\x20\x20\x20\x20\x20\x20<select\x20id=\x22lightTypeSelect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22point\x22>Point\x20Light</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22directional\x22>Directional\x20Light</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22spot\x22>Spot\x20Light</option>\x0a\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20<hr/>\x0a\x20\x20\x20\x20\x20\x20<!--\x20Light\x20Controls\x20-->\x0a\x20\x20\x20\x20\x20\x20<h3>Light\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLightXPos\x22>Light\x20+X</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLightXNeg\x22>Light\x20-X</button><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLightYPos\x22>Light\x20+Y</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLightYNeg\x22>Light\x20-Y</button><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLightZPos\x22>Light\x20+Z</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22btnLightZNeg\x22>Light\x20-Z</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr/>\x0a\x20\x20\x20\x20<!--\x20Shading\x20Model\x20Selection\x20-->\x0a\x20\x20\x20\x20<h3>Shading\x20Model</h3>\x0a\x20\x20\x20\x20<select\x20id=\x22shadingModelSelect\x22>\x0a\x20\x20\x20\x20\x20\x20<option\x20value=\x22toon\x22>Toon\x20Shading</option>\x0a\x20\x20\x20\x20\x20\x20<option\x20value=\x22lambertian\x22>Lambertian\x20Shading</option>\x0a\x20\x20\x20\x20\x20\x20<option\x20value=\x22phong\x22>Phong\x20Shading</option>\x0a\x20\x20\x20\x20</select>\x0a\x0a\x20\x20\x20\x20','_textCanvas','_wgWidth','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','match','_lines','_tracer','resetPose','style','_canvas','TEXTURE_BINDING','toon','createPlaneFromPoints','1882610yGHpVN','btnRotZPos','27vsTbYi','constructor','_pipelineLayout','fps:\x20','_resolutions','_width','createBuffer','phong','open','btnRight','updateText','sqrt','value','535199dMNsBK','STORAGE_BINDING','Light\x20','Ray\x20Trace\x20Box\x20Projective\x20Pipeline\x20','_camera','Ray\x20Trace\x20Box\x20Layout\x20','_outputSizeBuffer','createTranslator','setBindGroup','sin','auto','innerHTML','status','clearRect','Box\x20','store','btnLightYPos','moveY','createPipelineLayout','_back','extractTranslator','_left','createComputePipeline','_down','getElementById','padding','updateBoxScales','render','getName','createDir','rotateZ','resize','submit','_boxBuffer','BYTES_PER_ELEMENT','bind','_top','click','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','linePlaneIntersection','_scales','push','btnRotZNeg','updatePose','_bindGroupLayout','getContext','_paddingx','_offScreenTexture','moveX','spot','toString','_attenuation','position','end','246468lhXyrQ','requestDevice','COMPUTE','Ray\x20Tracer\x20output\x20size\x20buffer','_fontSize','btnBackward','absolute','createCommandEncoder','resizeCanvas','setShadingModel','Cache-Control','191219fTDOEw','computeOrthogonalMain','send','_sampler','message','applyMotor','updateTextRegion','beginRenderPass','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','change','beginComputePass','_objectCnt','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','_shaderModule','_lightBuffer','responseText','createPoint','2847747RugQMa','UNIFORM','updateLight','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','reduce','renderCanvas','_right','54KnzHTW','Ray\x20Tracing\x20Pipeline\x20','_bindGroup','_position','directional','createPlane','hidden','max','Couldn\x27t\x20request\x20WebGPU\x20adapter.','_params','writeBuffer','loadShader','appendChild','log','_objects','btnLightXNeg','fillText','\x20Shader\x20','createRotor','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','map','1957400ccZpZD','createBindGroupLayout','COPY_DST','then','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','compute','reverse','_computePipeline','cos','name','_height','_pipeline','height','getPreferredCanvasFormat','btnLightZPos','draw','btnRotXNeg','_canvasFormat','fillStyle','1px\x20solid\x20black','_canvasWidth','_shadingModel','requestAdapter','_paddingtop','Ray\x20Tracer\x20Shader','normalizeMotor','rotateY','width','length','fillRect','GET','_intensity','updateSize','left','createElement','createShaderModule','8px','applyMotorToPoint','8dooYPr','_wgHeight','computeMain','no-cache,\x20no-store,\x20max-age=0','Ray\x20Trace\x20Box\x20Bind\x20Group','div','_angle','split','lightTypeSelect','createBindGroup','sans-serif','extractPoint','btnLightXPos','createSampler','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','_textFont','btnDown','statusText','createTexture','_cameraBuffer','fill','applyMotorToDir','rotateX','_context','target','dispatchWorkgroups','canvas','_lineSpacing','innerHeight','measureText','geometricProduct','_box','byteLength','webgpu','10px','shadingModelSelect','getBindGroupLayout','_imgHeight','_clearColor','font','updateCameraPose','ceil','finish','body','top','createGeometry','init','./shaders/optimized_traceboxlight.wgsl','moveZ','_direction','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','_focal','_textContext','configure','getCurrentTexture','btnRotXPos','toggleVisibility','abs','renderToSelectedView','Ray\x20Tracer\x20Pipeline','innerWidth','</br>','createView','updateGeometry','createShaders','rgba8unorm','_front','vertexMain','btnLeft','now','computeOrthogonalMainToon','background','1px\x20solid\x20red','setRequestHeader','gpu','827648cQMLvS','border','_imgWidth','computeProjectiveMain'];_0xef99=function(){return _0xf65d5c;};return _0xef99();}class UnitCube{constructor(){const _0x30eed8=_0x5e0f6d;this[_0x30eed8(0x23a)]=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x30eed8(0x23a)][0x0]=0x1,this[_0x30eed8(0x28b)]=new Float32Array(Array(0x4)['fill'](0x1)),this[_0x30eed8(0x222)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x30eed8(0x276)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x30eed8(0x278)]=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x30eed8(0x1a4)]=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x30eed8(0x287)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x30eed8(0x27a)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x5e0f6d(0x28e)](_0x212dcb){const _0x5d8c05=_0x5e0f6d;for(let _0x5ca2db=0x0;_0x5ca2db<0x10;++_0x5ca2db)this[_0x5d8c05(0x23a)][_0x5ca2db]=_0x212dcb[_0x5ca2db];}}class RayTracingBoxLightObject extends RayTracingObject{constructor(_0x335d83,_0x4de2e5,_0x363db9,_0x295da3=!![]){const _0x520829=_0x5e0f6d;super(_0x335d83,_0x4de2e5),this['_box']=new UnitCube(),this[_0x520829(0x267)]=_0x363db9,this['_showTexture']=_0x295da3,this[_0x520829(0x1cf)]=_0x520829(0x252);}[_0x5e0f6d(0x18b)](_0x1d835f){this['_shadingModel']=_0x1d835f,this['createComputePipeline']();}async[_0x5e0f6d(0x20d)](){const _0x10478d=_0x5e0f6d;this['_cameraBuffer']=this[_0x10478d(0x243)]['createBuffer']({'label':_0x10478d(0x240)+this[_0x10478d(0x27f)](),'size':this[_0x10478d(0x267)][_0x10478d(0x23a)][_0x10478d(0x200)]+this[_0x10478d(0x267)][_0x10478d(0x213)][_0x10478d(0x200)]+this[_0x10478d(0x267)][_0x10478d(0x25a)][_0x10478d(0x200)],'usage':GPUBufferUsage[_0x10478d(0x19f)]|GPUBufferUsage[_0x10478d(0x1bc)]}),this['_device'][_0x10478d(0x239)][_0x10478d(0x1af)](this[_0x10478d(0x1f3)],0x0,this[_0x10478d(0x267)][_0x10478d(0x23a)]),this[_0x10478d(0x243)][_0x10478d(0x239)][_0x10478d(0x1af)](this['_cameraBuffer'],this[_0x10478d(0x267)][_0x10478d(0x23a)][_0x10478d(0x200)],this[_0x10478d(0x267)][_0x10478d(0x213)]),this[_0x10478d(0x243)]['queue'][_0x10478d(0x1af)](this['_cameraBuffer'],this[_0x10478d(0x267)][_0x10478d(0x23a)][_0x10478d(0x200)]+this['_camera'][_0x10478d(0x213)][_0x10478d(0x200)],this[_0x10478d(0x267)][_0x10478d(0x25a)]),this[_0x10478d(0x284)]=this['_device'][_0x10478d(0x25c)]({'label':_0x10478d(0x271)+this[_0x10478d(0x27f)](),'size':this['_box']['_pose'][_0x10478d(0x200)]+this['_box'][_0x10478d(0x28b)][_0x10478d(0x200)]+this[_0x10478d(0x1ff)][_0x10478d(0x287)][_0x10478d(0x200)]*0x6,'usage':GPUBufferUsage[_0x10478d(0x19f)]|GPUBufferUsage[_0x10478d(0x1bc)]});let _0x321d27=0x0;this[_0x10478d(0x243)]['queue'][_0x10478d(0x1af)](this[_0x10478d(0x284)],_0x321d27,this[_0x10478d(0x1ff)][_0x10478d(0x23a)]),_0x321d27+=this['_box'][_0x10478d(0x23a)]['byteLength'],this[_0x10478d(0x243)][_0x10478d(0x239)][_0x10478d(0x1af)](this[_0x10478d(0x284)],_0x321d27,this[_0x10478d(0x1ff)][_0x10478d(0x28b)]),_0x321d27+=this[_0x10478d(0x1ff)][_0x10478d(0x28b)][_0x10478d(0x200)],this[_0x10478d(0x243)]['queue'][_0x10478d(0x1af)](this[_0x10478d(0x284)],_0x321d27,this[_0x10478d(0x1ff)][_0x10478d(0x222)]),_0x321d27+=this['_box'][_0x10478d(0x222)][_0x10478d(0x200)],this[_0x10478d(0x243)][_0x10478d(0x239)][_0x10478d(0x1af)](this[_0x10478d(0x284)],_0x321d27,this[_0x10478d(0x1ff)]['_back']),_0x321d27+=this[_0x10478d(0x1ff)][_0x10478d(0x276)][_0x10478d(0x200)],this[_0x10478d(0x243)][_0x10478d(0x239)][_0x10478d(0x1af)](this['_boxBuffer'],_0x321d27,this[_0x10478d(0x1ff)][_0x10478d(0x278)]),_0x321d27+=this[_0x10478d(0x1ff)][_0x10478d(0x278)][_0x10478d(0x200)],this['_device'][_0x10478d(0x239)]['writeBuffer'](this[_0x10478d(0x284)],_0x321d27,this['_box']['_right']),_0x321d27+=this[_0x10478d(0x1ff)]['_right']['byteLength'],this[_0x10478d(0x243)]['queue'][_0x10478d(0x1af)](this[_0x10478d(0x284)],_0x321d27,this[_0x10478d(0x1ff)][_0x10478d(0x287)]),_0x321d27+=this[_0x10478d(0x1ff)][_0x10478d(0x287)][_0x10478d(0x200)],this[_0x10478d(0x243)][_0x10478d(0x239)][_0x10478d(0x1af)](this[_0x10478d(0x284)],_0x321d27,this[_0x10478d(0x1ff)][_0x10478d(0x27a)]),this[_0x10478d(0x19b)]=this[_0x10478d(0x243)][_0x10478d(0x25c)]({'label':_0x10478d(0x265)+this['getName'](),'size':0x14*Float32Array[_0x10478d(0x285)],'usage':GPUBufferUsage[_0x10478d(0x19f)]|GPUBufferUsage[_0x10478d(0x1bc)]});}[_0x5e0f6d(0x21f)](){const _0x34007f=_0x5e0f6d;this[_0x34007f(0x267)][_0x34007f(0x1da)](this[_0x34007f(0x22d)],this['_imgHeight']),this[_0x34007f(0x243)][_0x34007f(0x239)][_0x34007f(0x1af)](this['_cameraBuffer'],this[_0x34007f(0x267)][_0x34007f(0x23a)]['byteLength']+this[_0x34007f(0x267)]['_focal'][_0x34007f(0x200)],this[_0x34007f(0x267)]['_resolutions']);}['updateBoxPose'](){const _0x3b8af0=_0x5e0f6d;this[_0x3b8af0(0x243)]['queue']['writeBuffer'](this['_boxBuffer'],0x0,this[_0x3b8af0(0x1ff)]['_pose']);}[_0x5e0f6d(0x27d)](){const _0x23c107=_0x5e0f6d;this['_device'][_0x23c107(0x239)]['writeBuffer'](this[_0x23c107(0x284)],this[_0x23c107(0x1ff)][_0x23c107(0x23a)]['byteLength'],this[_0x23c107(0x1ff)][_0x23c107(0x28b)]);}['updateCameraPose'](){const _0x35da8e=_0x5e0f6d;this['_device'][_0x35da8e(0x239)][_0x35da8e(0x1af)](this['_cameraBuffer'],0x0,this['_camera'][_0x35da8e(0x23a)]);}[_0x5e0f6d(0x23e)](){const _0x53970a=_0x5e0f6d;this[_0x53970a(0x243)]['queue'][_0x53970a(0x1af)](this[_0x53970a(0x1f3)],this[_0x53970a(0x267)][_0x53970a(0x23a)]['byteLength'],this[_0x53970a(0x267)][_0x53970a(0x213)]);}[_0x5e0f6d(0x1a0)](_0x31af0c){const _0x430c8b=_0x5e0f6d;let _0x24046f=0x0;this[_0x430c8b(0x243)][_0x430c8b(0x239)][_0x430c8b(0x1af)](this['_lightBuffer'],_0x24046f,_0x31af0c[_0x430c8b(0x1d9)]),_0x24046f+=_0x31af0c[_0x430c8b(0x1d9)][_0x430c8b(0x200)],this['_device'][_0x430c8b(0x239)][_0x430c8b(0x1af)](this[_0x430c8b(0x19b)],_0x24046f,_0x31af0c[_0x430c8b(0x1a8)]),_0x24046f+=_0x31af0c[_0x430c8b(0x1a8)]['byteLength'],this[_0x430c8b(0x243)]['queue']['writeBuffer'](this[_0x430c8b(0x19b)],_0x24046f,_0x31af0c['_direction']),_0x24046f+=_0x31af0c[_0x430c8b(0x211)][_0x430c8b(0x200)],this[_0x430c8b(0x243)]['queue'][_0x430c8b(0x1af)](this['_lightBuffer'],_0x24046f,_0x31af0c['_attenuation']),_0x24046f+=_0x31af0c[_0x430c8b(0x296)][_0x430c8b(0x200)],this[_0x430c8b(0x243)][_0x430c8b(0x239)][_0x430c8b(0x1af)](this[_0x430c8b(0x19b)],_0x24046f,_0x31af0c[_0x430c8b(0x1ae)]);}async[_0x5e0f6d(0x220)](){const _0x573ce6=_0x5e0f6d;let _0x292ca9=await this[_0x573ce6(0x1b0)](_0x573ce6(0x20f));this[_0x573ce6(0x19a)]=this[_0x573ce6(0x243)][_0x573ce6(0x1dd)]({'label':_0x573ce6(0x1b6)+this[_0x573ce6(0x27f)](),'code':_0x292ca9}),this[_0x573ce6(0x28f)]=this[_0x573ce6(0x243)][_0x573ce6(0x1bb)]({'label':_0x573ce6(0x268)+this[_0x573ce6(0x27f)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x573ce6(0x29b)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x573ce6(0x29b)],'storageTexture':{'format':this[_0x573ce6(0x1cb)]}},{'binding':0x3,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}}]}),this[_0x573ce6(0x258)]=this[_0x573ce6(0x243)][_0x573ce6(0x275)]({'label':_0x573ce6(0x199),'bindGroupLayouts':[this[_0x573ce6(0x28f)]]});}async[_0x5e0f6d(0x279)](){const _0x26348b=_0x5e0f6d;let _0x295120;switch(this['_shadingModel']){case _0x26348b(0x23b):_0x295120=_0x26348b(0x18e);break;case _0x26348b(0x25d):_0x295120='computeOrthogonalMainPhong';break;case _0x26348b(0x252):default:_0x295120=_0x26348b(0x226);break;}this[_0x26348b(0x1c1)]=this[_0x26348b(0x243)][_0x26348b(0x279)]({'label':'Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20'+this[_0x26348b(0x27f)](),'layout':this[_0x26348b(0x258)],'compute':{'module':this[_0x26348b(0x19a)],'entryPoint':_0x295120}}),this['_computeProjectivePipeline']=this['_device']['createComputePipeline']({'label':_0x26348b(0x266)+this[_0x26348b(0x27f)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x26348b(0x19a)],'entryPoint':_0x26348b(0x22e)}});}[_0x5e0f6d(0x1e9)](_0x2ad945){const _0x4f847d=_0x5e0f6d;this[_0x4f847d(0x1a7)]=this[_0x4f847d(0x243)][_0x4f847d(0x1e9)]({'label':_0x4f847d(0x1e4),'layout':this['_computePipeline'][_0x4f847d(0x204)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x4f847d(0x1f3)]}},{'binding':0x1,'resource':{'buffer':this[_0x4f847d(0x284)]}},{'binding':0x2,'resource':_0x2ad945[_0x4f847d(0x21e)]()},{'binding':0x3,'resource':{'buffer':this[_0x4f847d(0x19b)]}}]}),this[_0x4f847d(0x249)]=Math[_0x4f847d(0x209)](_0x2ad945['width']),this[_0x4f847d(0x1e1)]=Math[_0x4f847d(0x209)](_0x2ad945[_0x4f847d(0x1c6)]);}[_0x5e0f6d(0x1bf)](_0x2c219d){const _0x53b854=_0x5e0f6d;this['_camera']?.['_isProjective']?_0x2c219d['setPipeline'](this['_computeProjectivePipeline']):_0x2c219d[_0x53b854(0x244)](this['_computePipeline']),_0x2c219d[_0x53b854(0x26b)](0x0,this[_0x53b854(0x1a7)]),_0x2c219d[_0x53b854(0x1f9)](Math[_0x53b854(0x209)](this[_0x53b854(0x249)]/0x10),Math['ceil'](this[_0x53b854(0x1e1)]/0x10));}}class PGA3D{static[_0x5e0f6d(0x1fe)](_0x39e0f8,_0x259026){return[_0x39e0f8[0x0]*_0x259026[0x0]-_0x39e0f8[0x1]*_0x259026[0x1]-_0x39e0f8[0x2]*_0x259026[0x2]-_0x39e0f8[0x3]*_0x259026[0x3]-_0x39e0f8[0x7]*_0x259026[0x7]+_0x39e0f8[0xb]*_0x259026[0xb]+_0x39e0f8[0xc]*_0x259026[0xc]+_0x39e0f8[0xd]*_0x259026[0xd],_0x39e0f8[0x0]*_0x259026[0x1]+_0x39e0f8[0x1]*_0x259026[0x0]-_0x39e0f8[0x2]*_0x259026[0x3]+_0x39e0f8[0x3]*_0x259026[0x2]+_0x39e0f8[0x7]*_0x259026[0xd]+_0x39e0f8[0xb]*_0x259026[0xc]-_0x39e0f8[0xc]*_0x259026[0xb]+_0x39e0f8[0xd]*_0x259026[0x7],_0x39e0f8[0x0]*_0x259026[0x2]+_0x39e0f8[0x1]*_0x259026[0x3]+_0x39e0f8[0x2]*_0x259026[0x0]-_0x39e0f8[0x3]*_0x259026[0x1]-_0x39e0f8[0x7]*_0x259026[0xc]+_0x39e0f8[0xb]*_0x259026[0xd]-_0x39e0f8[0xc]*_0x259026[0x7]-_0x39e0f8[0xd]*_0x259026[0xb],_0x39e0f8[0x0]*_0x259026[0x3]-_0x39e0f8[0x1]*_0x259026[0x2]+_0x39e0f8[0x2]*_0x259026[0x1]+_0x39e0f8[0x3]*_0x259026[0x0]+_0x39e0f8[0x7]*_0x259026[0xb]+_0x39e0f8[0xb]*_0x259026[0x7]+_0x39e0f8[0xc]*_0x259026[0xd]-_0x39e0f8[0xd]*_0x259026[0xc],_0x39e0f8[0x0]*_0x259026[0x4]+_0x39e0f8[0x1]*_0x259026[0x5]+_0x39e0f8[0x2]*_0x259026[0x6]-_0x39e0f8[0x3]*_0x259026[0xf]+_0x39e0f8[0x4]*_0x259026[0x0]-_0x39e0f8[0x5]*_0x259026[0x1]-_0x39e0f8[0x6]*_0x259026[0x2]+_0x39e0f8[0x7]*_0x259026[0xa]+_0x39e0f8[0x8]*_0x259026[0xc]+_0x39e0f8[0x9]*_0x259026[0xd]-_0x39e0f8[0xa]*_0x259026[0x7]-_0x39e0f8[0xb]*_0x259026[0xe]+_0x39e0f8[0xc]*_0x259026[0x8]+_0x39e0f8[0xd]*_0x259026[0x9]+_0x39e0f8[0xe]*_0x259026[0xb]-_0x39e0f8[0xf]*_0x259026[0x3],_0x39e0f8[0x0]*_0x259026[0x5]-_0x39e0f8[0x1]*_0x259026[0x4]+_0x39e0f8[0x2]*_0x259026[0xf]+_0x39e0f8[0x3]*_0x259026[0x6]+_0x39e0f8[0x4]*_0x259026[0x1]+_0x39e0f8[0x5]*_0x259026[0x0]-_0x39e0f8[0x6]*_0x259026[0x3]-_0x39e0f8[0x7]*_0x259026[0x9]-_0x39e0f8[0x8]*_0x259026[0xb]+_0x39e0f8[0x9]*_0x259026[0x7]+_0x39e0f8[0xa]*_0x259026[0xc]-_0x39e0f8[0xb]*_0x259026[0x8]-_0x39e0f8[0xc]*_0x259026[0xe]+_0x39e0f8[0xd]*_0x259026[0xa]+_0x39e0f8[0xe]*_0x259026[0xc]+_0x39e0f8[0xf]*_0x259026[0x2],_0x39e0f8[0x0]*_0x259026[0x6]-_0x39e0f8[0x1]*_0x259026[0xf]-_0x39e0f8[0x2]*_0x259026[0x4]-_0x39e0f8[0x3]*_0x259026[0x5]+_0x39e0f8[0x4]*_0x259026[0x2]+_0x39e0f8[0x5]*_0x259026[0x3]+_0x39e0f8[0x6]*_0x259026[0x0]+_0x39e0f8[0x7]*_0x259026[0x8]-_0x39e0f8[0x8]*_0x259026[0x7]-_0x39e0f8[0x9]*_0x259026[0xb]-_0x39e0f8[0xa]*_0x259026[0xc]-_0x39e0f8[0xb]*_0x259026[0x9]-_0x39e0f8[0xc]*_0x259026[0xa]-_0x39e0f8[0xd]*_0x259026[0xe]+_0x39e0f8[0xe]*_0x259026[0xd]-_0x39e0f8[0xf]*_0x259026[0x1],_0x39e0f8[0x0]*_0x259026[0x7]+_0x39e0f8[0x1]*_0x259026[0xd]-_0x39e0f8[0x2]*_0x259026[0xc]+_0x39e0f8[0x3]*_0x259026[0xb]+_0x39e0f8[0x7]*_0x259026[0x0]+_0x39e0f8[0xb]*_0x259026[0x3]-_0x39e0f8[0xc]*_0x259026[0x2]+_0x39e0f8[0xd]*_0x259026[0x1],_0x39e0f8[0x0]*_0x259026[0x8]+_0x39e0f8[0x1]*_0x259026[0xe]-_0x39e0f8[0x2]*_0x259026[0xa]+_0x39e0f8[0x3]*_0x259026[0x9]+_0x39e0f8[0x4]*_0x259026[0xc]-_0x39e0f8[0x5]*_0x259026[0xb]+_0x39e0f8[0x6]*_0x259026[0x7]-_0x39e0f8[0x7]*_0x259026[0x6]+_0x39e0f8[0x8]*_0x259026[0x0]-_0x39e0f8[0x9]*_0x259026[0x3]+_0x39e0f8[0xa]*_0x259026[0x2]-_0x39e0f8[0xb]*_0x259026[0x5]+_0x39e0f8[0xc]*_0x259026[0x4]-_0x39e0f8[0xd]*_0x259026[0xf]+_0x39e0f8[0xe]*_0x259026[0x1]+_0x39e0f8[0xf]*_0x259026[0xd],_0x39e0f8[0x0]*_0x259026[0x9]+_0x39e0f8[0x1]*_0x259026[0xa]+_0x39e0f8[0x2]*_0x259026[0xe]-_0x39e0f8[0x3]*_0x259026[0x8]+_0x39e0f8[0x4]*_0x259026[0xd]-_0x39e0f8[0x5]*_0x259026[0x7]-_0x39e0f8[0x6]*_0x259026[0xb]+_0x39e0f8[0x7]*_0x259026[0x5]+_0x39e0f8[0x8]*_0x259026[0x3]+_0x39e0f8[0x9]*_0x259026[0x0]-_0x39e0f8[0xa]*_0x259026[0x1]-_0x39e0f8[0xb]*_0x259026[0x6]+_0x39e0f8[0xc]*_0x259026[0xf]+_0x39e0f8[0xd]*_0x259026[0x4]+_0x39e0f8[0xe]*_0x259026[0x2]-_0x39e0f8[0xf]*_0x259026[0xc],_0x39e0f8[0x0]*_0x259026[0xa]-_0x39e0f8[0x1]*_0x259026[0x9]+_0x39e0f8[0x2]*_0x259026[0x8]+_0x39e0f8[0x3]*_0x259026[0xe]+_0x39e0f8[0x4]*_0x259026[0x7]+_0x39e0f8[0x5]*_0x259026[0xd]-_0x39e0f8[0x6]*_0x259026[0xc]-_0x39e0f8[0x7]*_0x259026[0x4]-_0x39e0f8[0x8]*_0x259026[0x2]+_0x39e0f8[0x9]*_0x259026[0x1]+_0x39e0f8[0xa]*_0x259026[0x0]-_0x39e0f8[0xb]*_0x259026[0xf]-_0x39e0f8[0xc]*_0x259026[0x6]+_0x39e0f8[0xd]*_0x259026[0x5]+_0x39e0f8[0xe]*_0x259026[0x3]+_0x39e0f8[0xf]*_0x259026[0xb],_0x39e0f8[0x0]*_0x259026[0xb]+_0x39e0f8[0x1]*_0x259026[0xc]+_0x39e0f8[0x2]*_0x259026[0xd]-_0x39e0f8[0x3]*_0x259026[0x7]-_0x39e0f8[0x7]*_0x259026[0x3]+_0x39e0f8[0xb]*_0x259026[0x0]-_0x39e0f8[0xc]*_0x259026[0x1]-_0x39e0f8[0xd]*_0x259026[0x2],_0x39e0f8[0x0]*_0x259026[0xc]-_0x39e0f8[0x1]*_0x259026[0xb]+_0x39e0f8[0x2]*_0x259026[0x7]+_0x39e0f8[0x3]*_0x259026[0xd]+_0x39e0f8[0x7]*_0x259026[0x2]+_0x39e0f8[0xb]*_0x259026[0x1]+_0x39e0f8[0xc]*_0x259026[0x0]-_0x39e0f8[0xd]*_0x259026[0x3],_0x39e0f8[0x0]*_0x259026[0xd]-_0x39e0f8[0x1]*_0x259026[0x7]-_0x39e0f8[0x2]*_0x259026[0xb]-_0x39e0f8[0x3]*_0x259026[0xc]-_0x39e0f8[0x7]*_0x259026[0x1]+_0x39e0f8[0xb]*_0x259026[0x2]+_0x39e0f8[0xc]*_0x259026[0x3]+_0x39e0f8[0xd]*_0x259026[0x0],_0x39e0f8[0x0]*_0x259026[0xe]-_0x39e0f8[0x1]*_0x259026[0x8]-_0x39e0f8[0x2]*_0x259026[0x9]-_0x39e0f8[0x3]*_0x259026[0xa]+_0x39e0f8[0x4]*_0x259026[0xb]+_0x39e0f8[0x5]*_0x259026[0xc]+_0x39e0f8[0x6]*_0x259026[0xd]+_0x39e0f8[0x7]*_0x259026[0xf]-_0x39e0f8[0x8]*_0x259026[0x1]-_0x39e0f8[0x9]*_0x259026[0x2]-_0x39e0f8[0xa]*_0x259026[0x3]-_0x39e0f8[0xb]*_0x259026[0x4]-_0x39e0f8[0xc]*_0x259026[0x5]-_0x39e0f8[0xd]*_0x259026[0x6]+_0x39e0f8[0xe]*_0x259026[0x0]-_0x39e0f8[0xf]*_0x259026[0x7],_0x39e0f8[0x0]*_0x259026[0xf]+_0x39e0f8[0x1]*_0x259026[0x6]-_0x39e0f8[0x2]*_0x259026[0x5]+_0x39e0f8[0x3]*_0x259026[0x4]+_0x39e0f8[0x4]*_0x259026[0x3]-_0x39e0f8[0x5]*_0x259026[0x2]+_0x39e0f8[0x6]*_0x259026[0x1]-_0x39e0f8[0x7]*_0x259026[0xe]+_0x39e0f8[0x8]*_0x259026[0xd]-_0x39e0f8[0x9]*_0x259026[0xc]+_0x39e0f8[0xa]*_0x259026[0xb]-_0x39e0f8[0xb]*_0x259026[0xa]+_0x39e0f8[0xc]*_0x259026[0x9]-_0x39e0f8[0xd]*_0x259026[0x8]+_0x39e0f8[0xe]*_0x259026[0x7]+_0x39e0f8[0xf]*_0x259026[0x0]];}static[_0x5e0f6d(0x1c0)](_0x47769d){return[_0x47769d[0x0],-_0x47769d[0x1],-_0x47769d[0x2],-_0x47769d[0x3],-_0x47769d[0x4],-_0x47769d[0x5],-_0x47769d[0x6],-_0x47769d[0x7],-_0x47769d[0x8],-_0x47769d[0x9],-_0x47769d[0xa],_0x47769d[0xb],_0x47769d[0xc],_0x47769d[0xd],_0x47769d[0xe],_0x47769d[0xf]];}static[_0x5e0f6d(0x192)](_0x33a6c3,_0x2bf45e){const _0x1238d3=_0x5e0f6d;return PGA3D[_0x1238d3(0x1fe)](_0x2bf45e,PGA3D[_0x1238d3(0x1fe)](_0x33a6c3,PGA3D[_0x1238d3(0x1c0)](_0x2bf45e)));}static['motorNorm'](_0x58e82b){const _0x52341e=_0x5e0f6d;return Math[_0x52341e(0x261)](_0x58e82b[_0x52341e(0x1b9)](_0x5ab406=>_0x5ab406*_0x5ab406)[_0x52341e(0x1a2)]((_0x1fb99b,_0x1a1c3b)=>_0x1fb99b+_0x1a1c3b,0x0));}static[_0x5e0f6d(0x26a)](_0x5ca54b,_0x3c8d41,_0x101237){return[0x1,0x0,0x0,0x0,-_0x5ca54b/0x2,-_0x3c8d41/0x2,-_0x101237/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x5e0f6d(0x277)](_0x4356a6){return[0x1,0x0,0x0,0x0,_0x4356a6[0x4],_0x4356a6[0x5],_0x4356a6[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x5e0f6d(0x1b7)](_0x3b2f48,_0x25dbc7=0x1,_0x12d828=0x0,_0x251aeb=0x0,_0x552613=0x0,_0x1488cb=0x0,_0x1789f7=0x0){const _0x51d44c=_0x5e0f6d;let _0x1f3d0a=Math[_0x51d44c(0x1c2)](_0x3b2f48/0x2),_0x92053c=Math[_0x51d44c(0x26c)](_0x3b2f48/0x2),_0x33a1d0=PGA3D[_0x51d44c(0x234)](_0x552613,_0x1488cb,_0x1789f7,_0x25dbc7,_0x12d828,_0x251aeb);return[_0x1f3d0a,_0x92053c*_0x33a1d0[0x1],_0x92053c*_0x33a1d0[0x2],_0x92053c*_0x33a1d0[0x3],_0x92053c*_0x33a1d0[0x4],_0x92053c*_0x33a1d0[0x5],_0x92053c*_0x33a1d0[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0x44209e){return[_0x44209e[0x0],_0x44209e[0x1],_0x44209e[0x2],_0x44209e[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createDir'](_0x250d0a,_0x5c34fb,_0x511fe7){return[0x0,_0x511fe7,-_0x5c34fb,_0x250d0a,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x5e0f6d(0x234)](_0x497686,_0x18d4b7,_0x400c98,_0x138411,_0x1315c4,_0x2f4c07){const _0x453703=_0x5e0f6d;let _0x5774f1=PGA3D[_0x453703(0x280)](_0x138411,_0x1315c4,_0x2f4c07),_0x14f598=PGA3D[_0x453703(0x1d3)](_0x5774f1);return[0x0,_0x14f598[0x1],_0x14f598[0x2],_0x14f598[0x3],-(-_0x14f598[0x2]*_0x400c98-_0x14f598[0x1]*_0x18d4b7),-(_0x14f598[0x1]*_0x497686-_0x14f598[0x3]*_0x400c98),-(_0x14f598[0x3]*_0x18d4b7+_0x14f598[0x2]*_0x497686),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createPoint'](_0x1bca95,_0x495ca0,_0x36a924){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x36a924,_0x495ca0,-_0x1bca95,0x0,0x0,0x0,0x0,0x0];}static[_0x5e0f6d(0x1eb)](_0x1d9dcd){return[-_0x1d9dcd[0xa]/_0x1d9dcd[0x7],_0x1d9dcd[0x9]/_0x1d9dcd[0x7],-_0x1d9dcd[0x8]/_0x1d9dcd[0x7]];}static[_0x5e0f6d(0x1aa)](_0x3b2226,_0x338637,_0x1ebe80,_0x12460e){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x3b2226,_0x338637,_0x1ebe80,-_0x12460e,0x0];}static['createPlaneFromPoints'](_0x1df378,_0x338bcc,_0x1e1d80){let _0x1b3a41=_0x338bcc[0x1]*_0x1e1d80[0x2]-_0x1e1d80[0x1]*_0x338bcc[0x2]-(_0x1df378[0x1]*_0x1e1d80[0x2]-_0x1e1d80[0x1]*_0x1df378[0x2])+(_0x1df378[0x1]*_0x338bcc[0x2]-_0x338bcc[0x1]*_0x1df378[0x2]),_0x4d8c2b=_0x338bcc[0x0]*_0x1e1d80[0x2]-_0x1e1d80[0x0]*_0x338bcc[0x2]-(_0x1df378[0x0]*_0x1e1d80[0x2]-_0x1e1d80[0x0]*_0x1df378[0x2])+(_0x1df378[0x0]*_0x338bcc[0x2]-_0x338bcc[0x0]*_0x1df378[0x2]),_0x37bc86=_0x338bcc[0x0]*_0x1e1d80[0x1]-_0x1e1d80[0x0]*_0x338bcc[0x1]-(_0x1df378[0x0]*_0x1e1d80[0x1]-_0x1e1d80[0x0]*_0x1df378[0x1])+(_0x1df378[0x0]*_0x338bcc[0x1]-_0x338bcc[0x0]*_0x1df378[0x1]),_0x4c9571=_0x1df378[0x0]*(_0x338bcc[0x1]*_0x1e1d80[0x2]-_0x1e1d80[0x1]*_0x338bcc[0x2])-_0x338bcc[0x0]*(_0x1df378[0x1]*_0x1e1d80[0x2]-_0x1e1d80[0x1]*_0x1df378[0x2])+_0x1e1d80[0x0]*(_0x1df378[0x1]*_0x338bcc[0x2]-_0x338bcc[0x1]*_0x1df378[0x2]);return PGA3D['createPlane'](_0x1b3a41,-_0x4d8c2b,_0x37bc86,_0x4c9571);}static[_0x5e0f6d(0x28a)](_0x240114,_0x1c293c){const _0x302c0c=_0x5e0f6d;let _0x56b448=PGA3D['geometricProduct'](_0x240114,_0x1c293c),_0x242b48=Math['abs'](_0x56b448[0x7])<=1e-8,_0x9b980b=_0x242b48&&Math[_0x302c0c(0x219)](_0x56b448[0x8])<=1e-8&&Math[_0x302c0c(0x219)](_0x56b448[0x9])<=1e-8&&Math[_0x302c0c(0x219)](_0x56b448[0xa])<=1e-8;return[PGA3D['extractPoint'](_0x56b448),!_0x242b48,_0x9b980b];}static[_0x5e0f6d(0x1d3)](_0xd787d9){const _0x2b443b=_0x5e0f6d;let _0x5b7cf2=PGA3D['motorNorm'](_0xd787d9);if(_0x5b7cf2==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0xd787d9[_0x2b443b(0x1b9)](_0x4146b5=>_0x4146b5/_0x5b7cf2);}static['applyMotorToPoint'](_0x588494,_0x529e41){const _0x51d37e=_0x5e0f6d;let _0x5c38ea=PGA3D[_0x51d37e(0x192)](PGA3D['createPoint'](_0x588494[0x0],_0x588494[0x1],_0x588494[0x2]),_0x529e41);return PGA3D['extractPoint'](_0x5c38ea);}static['applyMotorToDir'](_0x4ee045,_0x388844){const _0x1a054e=_0x5e0f6d;let _0x176d8a=PGA3D[_0x1a054e(0x237)](_0x388844),_0x16dc4c=PGA3D[_0x1a054e(0x192)](PGA3D[_0x1a054e(0x19d)](_0x4ee045[0x0],_0x4ee045[0x1],_0x4ee045[0x2]),_0x176d8a);return PGA3D[_0x1a054e(0x1eb)](_0x16dc4c);}static['isInside'](_0xf1dad3,_0x340ee6,_0x2a94d6,_0xc68ca9){const _0x316fe3=_0x5e0f6d;let _0x413d47=PGA3D['createPoint'](_0xf1dad3[0x0],_0xf1dad3[0x1],_0xf1dad3[0x2]),_0x4108d4=PGA3D[_0x316fe3(0x19d)](_0x340ee6[0x0],_0x340ee6[0x1],_0x340ee6[0x2]),_0x364864=PGA3D[_0x316fe3(0x19d)](_0x2a94d6[0x0],_0x2a94d6[0x1],_0x2a94d6[0x2]),_0xf68ead=PGA3D[_0x316fe3(0x19d)](_0xc68ca9[0x0],_0xc68ca9[0x1],_0xc68ca9[0x2]),_0x323e62=PGA3D[_0x316fe3(0x253)](_0xf1dad3,_0x340ee6,_0x2a94d6),_0x2036ce=PGA3D['createPlaneFromPoints'](_0xc68ca9,_0x340ee6,_0x2a94d6),_0x12d4a6=PGA3D[_0x316fe3(0x253)](_0xf1dad3,_0xc68ca9,_0x2a94d6),_0x2891d4=PGA3D[_0x316fe3(0x253)](_0xf1dad3,_0x340ee6,_0xc68ca9),_0x57abdf=_0x323e62[0xb]*_0x323e62[0xb]+_0x323e62[0xc]*_0x323e62[0xc]+_0x323e62[0xd]*_0x323e62[0xd]+_0x323e62[0xe]*_0x323e62[0xe],_0x1078d3=_0x323e62[0xb]*_0x2036ce[0xb]+_0x323e62[0xc]*_0x2036ce[0xc]+_0x323e62[0xd]*_0x2036ce[0xd]+_0x323e62[0xe]*_0x2036ce[0xe],_0x1b8bf8=_0x323e62[0xb]*_0x12d4a6[0xb]+_0x323e62[0xc]*_0x12d4a6[0xc]+_0x323e62[0xd]*_0x12d4a6[0xd]+_0x323e62[0xe]*_0x12d4a6[0xe],_0x35c0c2=_0x323e62[0xb]*_0x2891d4[0xb]+_0x323e62[0xc]*_0x2891d4[0xc]+_0x323e62[0xd]*_0x2891d4[0xd]+_0x323e62[0xe]*_0x2891d4[0xe],_0x130b79=_0x1078d3/_0x57abdf,_0x34e3fd=_0x1b8bf8/_0x57abdf,_0x33709a=_0x35c0c2/_0x57abdf;return _0x130b79>=0x0&&_0x130b79<=0x1&&_0x34e3fd>=0x0&&_0x34e3fd<=0x1&&_0x33709a>=0x0&&_0x33709a<=0x1;}}function _0x3c3e(_0x2122e9,_0x56da40){const _0xef99d3=_0xef99();return _0x3c3e=function(_0x3c3e4b,_0x4f5c0a){_0x3c3e4b=_0x3c3e4b-0x187;let _0x596f1c=_0xef99d3[_0x3c3e4b];return _0x596f1c;},_0x3c3e(_0x2122e9,_0x56da40);}class Camera{constructor(_0x25f410,_0x57c27e){const _0x52484f=_0x5e0f6d;this['_pose']=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x52484f(0x23a)][0x0]=0x1,this[_0x52484f(0x213)]=new Float32Array(Array(0x2)['fill'](0.25)),this[_0x52484f(0x25a)]=new Float32Array([_0x25f410,_0x57c27e]);}[_0x5e0f6d(0x24e)](){const _0x37f748=_0x5e0f6d;this['_pose'][0x0]=0x1;for(let _0x4f349a=0x1;_0x4f349a<0x10;++_0x4f349a)this['_pose'][_0x4f349a]=0x0;this[_0x37f748(0x213)][0x0]=0x1,this[_0x37f748(0x213)][0x1]=0x1;}[_0x5e0f6d(0x28e)](_0x5157c3){const _0xff8d12=_0x5e0f6d;for(let _0x506c2e=0x0;_0x506c2e<0x10;++_0x506c2e)this[_0xff8d12(0x23a)][_0x506c2e]=_0x5157c3[_0x506c2e];}[_0x5e0f6d(0x1da)](_0x453489,_0x4e02ca){const _0x515606=_0x5e0f6d;this[_0x515606(0x25a)][0x0]=_0x453489,this[_0x515606(0x25a)][0x1]=_0x4e02ca;}[_0x5e0f6d(0x293)](_0x3980e6){const _0x2b0b7d=_0x5e0f6d,_0x4476a1=PGA3D[_0x2b0b7d(0x1f5)]([0x1,0x0,0x0],this[_0x2b0b7d(0x23a)]),_0x5aa1ed=_0x4476a1[0x0]*_0x3980e6,_0xbb2219=_0x4476a1[0x1]*_0x3980e6,_0x26ab64=_0x4476a1[0x2]*_0x3980e6,_0x28cfd6=PGA3D['createTranslator'](_0x5aa1ed,_0xbb2219,_0x26ab64);let _0x5bc819=PGA3D[_0x2b0b7d(0x1fe)](_0x28cfd6,this[_0x2b0b7d(0x23a)]);_0x5bc819=PGA3D[_0x2b0b7d(0x1d3)](_0x5bc819),this[_0x2b0b7d(0x28e)](_0x5bc819);}[_0x5e0f6d(0x274)](_0x4f874c){const _0x26771a=_0x5e0f6d,_0xb645b1=PGA3D[_0x26771a(0x1f5)]([0x0,0x1,0x0],this[_0x26771a(0x23a)]),_0x57234c=_0xb645b1[0x0]*_0x4f874c,_0x19f05d=_0xb645b1[0x1]*_0x4f874c,_0x2d405e=_0xb645b1[0x2]*_0x4f874c,_0x44949f=PGA3D[_0x26771a(0x26a)](_0x57234c,_0x19f05d,_0x2d405e);let _0x4819fd=PGA3D[_0x26771a(0x1fe)](_0x44949f,this[_0x26771a(0x23a)]);_0x4819fd=PGA3D[_0x26771a(0x1d3)](_0x4819fd),this[_0x26771a(0x28e)](_0x4819fd);}[_0x5e0f6d(0x210)](_0x577dbd){const _0x183e2c=_0x5e0f6d,_0x3b2d4b=PGA3D[_0x183e2c(0x1f5)]([0x0,0x0,0x1],this[_0x183e2c(0x23a)]),_0x30eff0=_0x3b2d4b[0x0]*_0x577dbd,_0x1c7937=_0x3b2d4b[0x1]*_0x577dbd,_0x31a7a9=_0x3b2d4b[0x2]*_0x577dbd,_0x2ca715=PGA3D[_0x183e2c(0x26a)](_0x30eff0,_0x1c7937,_0x31a7a9);let _0x3c43fd=PGA3D['geometricProduct'](_0x2ca715,this[_0x183e2c(0x23a)]);_0x3c43fd=PGA3D['normalizeMotor'](_0x3c43fd),this[_0x183e2c(0x28e)](_0x3c43fd);}[_0x5e0f6d(0x1f6)](_0xa075e6){const _0x3e442e=_0x5e0f6d,_0x15af70=PGA3D[_0x3e442e(0x1df)]([0x0,0x0,0x0],this[_0x3e442e(0x23a)]),_0x1ccda3=PGA3D[_0x3e442e(0x1f5)]([0x1,0x0,0x0],this[_0x3e442e(0x23a)]),_0x322181=PGA3D['createRotor'](_0xa075e6,_0x1ccda3[0x0],_0x1ccda3[0x1],_0x1ccda3[0x2],_0x15af70[0x0],_0x15af70[0x1],_0x15af70[0x2]);let _0x4ca8d2=PGA3D[_0x3e442e(0x1fe)](_0x322181,this['_pose']);_0x4ca8d2=PGA3D[_0x3e442e(0x1d3)](_0x4ca8d2),this[_0x3e442e(0x28e)](_0x4ca8d2);}[_0x5e0f6d(0x1d4)](_0x82b0f2){const _0x5e5a51=_0x5e0f6d,_0x45e64d=PGA3D[_0x5e5a51(0x1df)]([0x0,0x0,0x0],this['_pose']),_0x2d05a4=PGA3D['applyMotorToDir']([0x0,0x1,0x0],this[_0x5e5a51(0x23a)]),_0xc20b45=PGA3D[_0x5e5a51(0x1b7)](_0x82b0f2,_0x2d05a4[0x0],_0x2d05a4[0x1],_0x2d05a4[0x2],_0x45e64d[0x0],_0x45e64d[0x1],_0x45e64d[0x2]);let _0x5a4501=PGA3D[_0x5e5a51(0x1fe)](_0xc20b45,this[_0x5e5a51(0x23a)]);_0x5a4501=PGA3D[_0x5e5a51(0x1d3)](_0x5a4501),this[_0x5e5a51(0x28e)](_0x5a4501);}[_0x5e0f6d(0x281)](_0x32e4fd){const _0x517b79=_0x5e0f6d,_0x2a59e5=PGA3D[_0x517b79(0x1df)]([0x0,0x0,0x0],this['_pose']),_0x4183e3=PGA3D['applyMotorToDir']([0x0,0x0,0x1],this['_pose']),_0x562839=PGA3D[_0x517b79(0x1b7)](_0x32e4fd,_0x4183e3[0x0],_0x4183e3[0x1],_0x4183e3[0x2],_0x2a59e5[0x0],_0x2a59e5[0x1],_0x2a59e5[0x2]);let _0x3834c3=PGA3D['geometricProduct'](_0x562839,this[_0x517b79(0x23a)]);_0x3834c3=PGA3D['normalizeMotor'](_0x3834c3),this['updatePose'](_0x3834c3);}}class Light{constructor(){const _0x3ecaf6=_0x5e0f6d;this[_0x3ecaf6(0x1d9)]=new Float32Array(Array(0x4)[_0x3ecaf6(0x1f4)](0x0)),this[_0x3ecaf6(0x1a8)]=new Float32Array(Array(0x4)[_0x3ecaf6(0x1f4)](0x0)),this[_0x3ecaf6(0x211)]=new Float32Array(Array(0x4)['fill'](0x0)),this[_0x3ecaf6(0x296)]=new Float32Array(Array(0x4)['fill'](0x0)),this[_0x3ecaf6(0x296)][0x0]=0x1,this['_params']=new Float32Array(Array(0x4)[_0x3ecaf6(0x1f4)](0x0));}}class PointLight extends Light{constructor(_0x23910a=[0x1,0x1,0x1],_0x297e01=[0x0,0x0,0x0],_0x20fc97=[0x1,0.1,0.01]){const _0x27e231=_0x5e0f6d;super();for(let _0x2892ef=0x0;_0x2892ef<0x3;++_0x2892ef){this[_0x27e231(0x1d9)][_0x2892ef]=_0x23910a[_0x2892ef],this['_position'][_0x2892ef]=_0x297e01[_0x2892ef],this[_0x27e231(0x296)][_0x2892ef]=_0x20fc97[_0x2892ef];}}}class DirectionalLight extends Light{constructor(_0x25cd78=[0x1,0x1,0x1],_0x17d6d6=[Math['sqrt'](0x3),Math[_0x5e0f6d(0x261)](0x3),Math[_0x5e0f6d(0x261)](0x3)]){const _0x1558d5=_0x5e0f6d;super();for(let _0x32369a=0x0;_0x32369a<0x3;++_0x32369a){this[_0x1558d5(0x1d9)][_0x32369a]=_0x25cd78[_0x32369a],this[_0x1558d5(0x211)][_0x32369a]=_0x17d6d6[_0x32369a];}}}class SpotLight extends Light{constructor(_0x344513=[0x1,0x1,0x1],_0x54c809=[0x0,0x0,0x0],_0x3d4cc9=[0x0,0x1,0x0],_0x4cd1b9=[0x1,0.1,0.01],_0x3e76b5=0.785,_0x57d4bd=0x5){const _0x5f1ccc=_0x5e0f6d;super();for(let _0xcc8c47=0x0;_0xcc8c47<0x3;++_0xcc8c47){this['_intensity'][_0xcc8c47]=_0x344513[_0xcc8c47],this[_0x5f1ccc(0x1a8)][_0xcc8c47]=_0x54c809[_0xcc8c47],this['_direction'][_0xcc8c47]=_0x3d4cc9[_0xcc8c47],this['_attenuation'][_0xcc8c47]=_0x4cd1b9[_0xcc8c47];}this[_0x5f1ccc(0x1ae)][0x0]=_0x3e76b5,this[_0x5f1ccc(0x1ae)][0x1]=_0x57d4bd;}}async function init(){const _0x252834=_0x5e0f6d,_0x1658ae=document['createElement'](_0x252834(0x1fa));_0x1658ae['id']='renderCanvas',document[_0x252834(0x20b)][_0x252834(0x1b1)](_0x1658ae);const _0x13af26=new RayTracer(_0x1658ae);await _0x13af26[_0x252834(0x20e)]();var _0x33eb29=new Camera();_0x33eb29[_0x252834(0x23a)][0x2]=0.5,_0x33eb29['_pose'][0x3]=0.5;var _0x280bff=new RayTracingBoxLightObject(_0x13af26[_0x252834(0x243)],_0x13af26['_canvasFormat'],_0x33eb29);await _0x13af26[_0x252834(0x235)](_0x280bff);var _0x27599e=new PointLight();function _0x1cffd1(_0x22eb01){const _0x4e929f=_0x252834;switch(_0x22eb01){case _0x4e929f(0x238):_0x27599e=new PointLight();break;case _0x4e929f(0x1a9):_0x27599e=new DirectionalLight(),_0x27599e[_0x4e929f(0x211)]=[0x0,-0x1,0x0];break;case _0x4e929f(0x294):_0x27599e=new SpotLight(),_0x27599e[_0x4e929f(0x211)]=[0x0,0x0,-0x1],_0x27599e[_0x4e929f(0x1e6)]=Math['PI']/0x6;break;}_0x280bff[_0x4e929f(0x1a0)](_0x27599e);}_0x280bff[_0x252834(0x1a0)](_0x27599e);const _0x1348c4=document[_0x252834(0x1dc)](_0x252834(0x1e5));_0x1348c4['style'][_0x252834(0x297)]=_0x252834(0x188),_0x1348c4[_0x252834(0x24f)][_0x252834(0x20c)]=_0x252834(0x202),_0x1348c4[_0x252834(0x24f)][_0x252834(0x1db)]=_0x252834(0x202),_0x1348c4['style'][_0x252834(0x27c)]=_0x252834(0x1de),_0x1348c4[_0x252834(0x24f)]['border']=_0x252834(0x1cd),_0x1348c4[_0x252834(0x24f)][_0x252834(0x227)]=_0x252834(0x231),_0x1348c4[_0x252834(0x24f)][_0x252834(0x246)]=_0x252834(0x1ea),_0x1348c4['innerHTML']=_0x252834(0x247),document['body']['appendChild'](_0x1348c4);const _0x319011=0.05,_0x5e7b15=0.1,_0x913323=0.1;document['getElementById'](_0x252834(0x1e8))[_0x252834(0x241)](_0x252834(0x196),_0x106bb6=>{const _0x150cfe=_0x252834;_0x1cffd1(_0x106bb6[_0x150cfe(0x1f8)][_0x150cfe(0x262)]);}),document['getElementById'](_0x252834(0x233))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x2ba324=_0x252834;_0x33eb29[_0x2ba324(0x210)](-_0x319011),_0x280bff[_0x2ba324(0x208)]();}),document[_0x252834(0x27b)](_0x252834(0x187))[_0x252834(0x241)](_0x252834(0x288),()=>{_0x33eb29['moveZ'](_0x319011),_0x280bff['updateCameraPose']();}),document[_0x252834(0x27b)](_0x252834(0x224))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x1f76f8=_0x252834;_0x33eb29['moveX'](-_0x319011),_0x280bff[_0x1f76f8(0x208)]();}),document[_0x252834(0x27b)](_0x252834(0x25f))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x1d94d6=_0x252834;_0x33eb29[_0x1d94d6(0x293)](_0x319011),_0x280bff['updateCameraPose']();}),document[_0x252834(0x27b)]('btnUp')['addEventListener']('click',()=>{const _0x966b0a=_0x252834;_0x33eb29[_0x966b0a(0x274)](_0x319011),_0x280bff['updateCameraPose']();}),document[_0x252834(0x27b)](_0x252834(0x1f0))[_0x252834(0x241)]('click',()=>{_0x33eb29['moveY'](-_0x319011),_0x280bff['updateCameraPose']();}),document['getElementById'](_0x252834(0x217))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x45f701=_0x252834;_0x33eb29[_0x45f701(0x1f6)](_0x5e7b15),_0x280bff[_0x45f701(0x208)]();}),document[_0x252834(0x27b)](_0x252834(0x1ca))[_0x252834(0x241)]('click',()=>{const _0x121bb6=_0x252834;_0x33eb29['rotateX'](-_0x5e7b15),_0x280bff[_0x121bb6(0x208)]();}),document[_0x252834(0x27b)]('btnRotYPos')[_0x252834(0x241)]('click',()=>{const _0x1f4396=_0x252834;_0x33eb29[_0x1f4396(0x1d4)](_0x5e7b15),_0x280bff[_0x1f4396(0x208)]();}),document[_0x252834(0x27b)]('btnRotYNeg')[_0x252834(0x241)]('click',()=>{const _0x33aff7=_0x252834;_0x33eb29[_0x33aff7(0x1d4)](-_0x5e7b15),_0x280bff['updateCameraPose']();}),document['getElementById'](_0x252834(0x255))['addEventListener'](_0x252834(0x288),()=>{const _0x27537e=_0x252834;_0x33eb29[_0x27537e(0x281)](_0x5e7b15),_0x280bff[_0x27537e(0x208)]();}),document[_0x252834(0x27b)](_0x252834(0x28d))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x2a462d=_0x252834;_0x33eb29[_0x2a462d(0x281)](-_0x5e7b15),_0x280bff['updateCameraPose']();}),document[_0x252834(0x27b)](_0x252834(0x1ec))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x2718fd=_0x252834;_0x27599e[_0x2718fd(0x1a8)][0x0]+=_0x913323,_0x280bff['updateLight'](_0x27599e);}),document[_0x252834(0x27b)](_0x252834(0x1b4))['addEventListener']('click',()=>{const _0x43a22a=_0x252834;_0x27599e[_0x43a22a(0x1a8)][0x0]-=_0x913323,_0x280bff[_0x43a22a(0x1a0)](_0x27599e);}),document[_0x252834(0x27b)](_0x252834(0x273))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x1266f3=_0x252834;_0x27599e['_position'][0x1]+=_0x913323,_0x280bff[_0x1266f3(0x1a0)](_0x27599e);}),document[_0x252834(0x27b)]('btnLightYNeg')['addEventListener']('click',()=>{const _0x2c7c38=_0x252834;_0x27599e['_position'][0x1]-=_0x913323,_0x280bff[_0x2c7c38(0x1a0)](_0x27599e);}),document[_0x252834(0x27b)](_0x252834(0x1c8))[_0x252834(0x241)](_0x252834(0x288),()=>{const _0x1271ac=_0x252834;_0x27599e[_0x1271ac(0x1a8)][0x2]+=_0x913323,_0x280bff[_0x1271ac(0x1a0)](_0x27599e);}),document[_0x252834(0x27b)]('btnLightZNeg')[_0x252834(0x241)]('click',()=>{const _0x298124=_0x252834;_0x27599e[_0x298124(0x1a8)][0x2]-=_0x913323,_0x280bff[_0x298124(0x1a0)](_0x27599e);}),document[_0x252834(0x27b)](_0x252834(0x203))[_0x252834(0x241)]('change',_0x44f34f=>{const _0x1440ae=_0x252834;_0x280bff[_0x1440ae(0x18b)](_0x44f34f['target'][_0x1440ae(0x262)]);});let _0x3b8552='??';var _0x4b1668=new StandardTextObject(_0x252834(0x259)+_0x3b8552),_0x4975b4=0x0,_0x56da1b=0x3c,_0x497180=0x1/_0x56da1b,_0xc306cc=_0x497180*0x3e8,_0x48db3e;let _0x5acbff=()=>{const _0x147658=_0x252834;let _0x3c5301=Date[_0x147658(0x225)]()-_0x48db3e;_0x3c5301>_0xc306cc&&(++_0x4975b4,_0x48db3e=Date['now']()-_0x3c5301%_0xc306cc,_0x13af26['render']()),requestAnimationFrame(_0x5acbff);};return _0x48db3e=Date[_0x252834(0x225)](),_0x5acbff(),setInterval(()=>{const _0x261d7b=_0x252834;_0x4b1668[_0x261d7b(0x260)](_0x261d7b(0x259)+_0x4975b4),_0x4975b4=0x0;},0x3e8),_0x13af26;}init()[_0x5e0f6d(0x1bd)](_0x214bf6=>{const _0x2b5696=_0x5e0f6d;console[_0x2b5696(0x1b2)](_0x214bf6);})['catch'](_0x145b4e=>{const _0x12444e=_0x5e0f6d,_0x4b3261=document[_0x12444e(0x1dc)]('p');_0x4b3261[_0x12444e(0x26e)]=navigator['userAgent']+_0x12444e(0x21d)+_0x145b4e[_0x12444e(0x191)],document[_0x12444e(0x20b)][_0x12444e(0x1b1)](_0x4b3261),document[_0x12444e(0x27b)](_0x12444e(0x1a3))['remove']();});