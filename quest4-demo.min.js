const _0x4a14c1=_0x42ba;function _0x1ecf(){const _0x355a2b=['transformOrigin','position','dispatchWorkgroups','ceil','message','_bindGroupLayout','/shaders/optimized_particles.wgsl','getElementById','body','_pipelineLayout','getPreferredCanvasFormat','loadShader','_particleBuffers','createComputePipeline','renderToSelectedView','fillStyle','left','84HJLcBG','then','_canvasFormat','map','statusText','submit','createShaders','_canvas','_device','_paddingtop','_particlePipeline','hidden','fillText','store','border','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','getName','_bindGroups','createGeometry','render','5kGHDRg','toString','line-strip','height','159131TWGsXj','computeMain','toggleVisibility','140485lZJLhT','width','addEventListener','catch','_objectCnt','</br>','no-cache,\x20no-store,\x20max-age=0','GET','_width','createRenderPipeline','_computePipeline','updateText','createBindGroup','resizeCanvas','setBindGroup','_canvasWidth','fps:\x20','webgpu','updateTextRegion','innerWidth','vertexMain','Cache-Control','remove','createParticlePipeline','_height','getBindGroupLayout','COPY_DST','gpu','_shaderModule','storage','_clearColor','5052072sqRLlq','length','split','renderCanvas','compute','textBaseline','constructor','DONE','_canvasHeight','42991335JcTkhy','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','createBuffer','style','8958232ugHVjv','status','beginRenderPass','rgba(1,\x201,\x201,\x200.5)','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','requestDevice','canvas','top','responseText','now','measureText','1px\x20solid\x20red','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','queue','COMPUTE','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','Particles\x20Shader\x20','_numParticles','createView','Particles\x20Compute\x20Pipeline\x20','max','834315XJjZwY','_particles','font','appendChild','_context','_fontSize','init','COPY_SRC','createCommandEncoder','forEach','_objects','_textFont','bind','finish','createPipelineLayout','read-only-storage','getCurrentTexture','byteLength','onload','setPipeline','random','_textContext','appendSceneObject','log','_lineSpacing','10px','end','setRequestHeader','match','createParticleGeometry','_step','_textCanvas','createShaderModule','VERTEX','_paddingx','createElement','getContext','updateGeometry','2634886UALnHv','_lines','send','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.'];_0x1ecf=function(){return _0x355a2b;};return _0x1ecf();}(function(_0x4ea58d,_0x5d184c){const _0x1f9c0c=_0x42ba,_0x227402=_0x4ea58d();while(!![]){try{const _0xa6bc72=-parseInt(_0x1f9c0c(0x158))/0x1+-parseInt(_0x1f9c0c(0x128))/0x2+parseInt(_0x1f9c0c(0x102))/0x3+parseInt(_0x1f9c0c(0xe0))/0x4*(-parseInt(_0x1f9c0c(0x151))/0x5)+-parseInt(_0x1f9c0c(0x13d))/0x6*(parseInt(_0x1f9c0c(0x155))/0x7)+-parseInt(_0x1f9c0c(0xed))/0x8+parseInt(_0x1f9c0c(0xe9))/0x9;if(_0xa6bc72===_0x5d184c)break;else _0x227402['push'](_0x227402['shift']());}catch(_0x809642){_0x227402['push'](_0x227402['shift']());}}}(_0x1ecf,0xdabbd));class Renderer{constructor(_0x5d78b7){const _0x3258bf=_0x42ba;this[_0x3258bf(0x144)]=_0x5d78b7,this[_0x3258bf(0x10c)]=[],this[_0x3258bf(0xdf)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x4a14c1(0x108)](){const _0x366e78=_0x4a14c1;if(!navigator[_0x366e78(0xdc)])throw Error('WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.');const _0x2fa903=await navigator['gpu']['requestAdapter']();if(!_0x2fa903)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this[_0x366e78(0x145)]=await _0x2fa903[_0x366e78(0xf2)](),this['_context']=this['_canvas']['getContext'](_0x366e78(0x169)),this[_0x366e78(0x13f)]=navigator[_0x366e78(0xdc)][_0x366e78(0x136)](),this[_0x366e78(0x106)]['configure']({'device':this[_0x366e78(0x145)],'format':this['_canvasFormat']}),this[_0x366e78(0x165)](),window[_0x366e78(0x15a)]('resize',this[_0x366e78(0x165)][_0x366e78(0x10e)](this));}[_0x4a14c1(0x165)](){const _0x246e11=_0x4a14c1,_0x1eb279=window['devicePixelRatio']||0x1,_0x31ee6a=window[_0x246e11(0x16b)]*_0x1eb279,_0x446488=window['innerHeight']*_0x1eb279;this[_0x246e11(0x144)][_0x246e11(0x159)]=_0x31ee6a,this['_canvas'][_0x246e11(0x154)]=_0x446488,this[_0x246e11(0x144)]['style'][_0x246e11(0x159)]=window['innerWidth']+'px',this[_0x246e11(0x144)][_0x246e11(0xec)]['height']=window['innerHeight']+'px',this[_0x246e11(0x144)]['style'][_0x246e11(0x12c)]='center',this[_0x246e11(0x150)]();}async[_0x4a14c1(0x118)](_0x3be42c){const _0x46c51c=_0x4a14c1;await _0x3be42c[_0x46c51c(0x108)](),this[_0x46c51c(0x10c)]['push'](_0x3be42c);}['renderToSelectedView'](_0x4f5f14){const _0x4cc450=_0x4a14c1;for(const _0x23611f of this[_0x4cc450(0x10c)]){_0x23611f?.[_0x4cc450(0x127)]();}let _0x362b38=this['_device'][_0x4cc450(0x10a)]();const _0x2f4caa=_0x362b38[_0x4cc450(0xef)]({'colorAttachments':[{'view':_0x4f5f14,'clearValue':this[_0x4cc450(0xdf)],'loadOp':'clear','storeOp':_0x4cc450(0x14a)}]});for(const _0x86ca3b of this[_0x4cc450(0x10c)]){_0x86ca3b?.[_0x4cc450(0x150)](_0x2f4caa);}_0x2f4caa[_0x4cc450(0x11c)]();const _0x43b13a=_0x362b38['beginComputePass']();for(const _0x16d5a7 of this[_0x4cc450(0x10c)]){_0x16d5a7?.[_0x4cc450(0xe4)](_0x43b13a);}_0x43b13a['end']();const _0x9e077d=_0x362b38[_0x4cc450(0x10f)]();this['_device']['queue'][_0x4cc450(0x142)]([_0x9e077d]);}[_0x4a14c1(0x150)](){const _0x4669b7=_0x4a14c1;this[_0x4669b7(0x13a)](this[_0x4669b7(0x106)][_0x4669b7(0x112)]()[_0x4669b7(0xff)]());}}class SceneObject{static [_0x4a14c1(0x15c)]=0x0;constructor(_0xf7b553,_0x3d1ac9){const _0x55d57f=_0x4a14c1;if(this[_0x55d57f(0xe6)]==SceneObject)throw new Error(_0x55d57f(0xf1));this[_0x55d57f(0x145)]=_0xf7b553,this[_0x55d57f(0x13f)]=_0x3d1ac9,SceneObject['_objectCnt']+=0x1;}[_0x4a14c1(0x14d)](){const _0x1033ab=_0x4a14c1;return this[_0x1033ab(0xe6)]['name']+'\x20'+SceneObject[_0x1033ab(0x15c)][_0x1033ab(0x152)]();}async[_0x4a14c1(0x108)](){const _0x1a142c=_0x4a14c1;await this[_0x1a142c(0x14f)](),await this['createShaders'](),await this[_0x1a142c(0x161)](),await this[_0x1a142c(0x139)]();}async[_0x4a14c1(0x14f)](){const _0xdc1f1b=_0x4a14c1;throw new Error(_0xdc1f1b(0xea));}['updateGeometry'](){}[_0x4a14c1(0x137)](_0x4bd5c9){return new Promise((_0x47feeb,_0xc38a4a)=>{const _0x1ee42f=_0x42ba,_0x5853f2=new XMLHttpRequest();_0x5853f2['open'](_0x1ee42f(0x15f),_0x4bd5c9),_0x5853f2[_0x1ee42f(0x11d)](_0x1ee42f(0x16d),_0x1ee42f(0x15e)),_0x5853f2[_0x1ee42f(0x114)]=function(){const _0x4d95a0=_0x1ee42f;_0x5853f2['readyState']===XMLHttpRequest[_0x4d95a0(0xe7)]&&_0x5853f2[_0x4d95a0(0xee)]===0xc8?_0x47feeb(_0x5853f2[_0x4d95a0(0xf5)]):_0xc38a4a({'status':_0x5853f2['status'],'statusText':_0x5853f2[_0x4d95a0(0x141)]});},_0x5853f2['onerror']=function(){_0xc38a4a({'status':_0x5853f2['status'],'statusText':_0x5853f2['statusText']});},_0x5853f2[_0x1ee42f(0x12a)]();});}async['createShaders'](){const _0x4feab7=_0x4a14c1;throw new Error(_0x4feab7(0x12b));}async[_0x4a14c1(0x161)](){const _0xd599a3=_0x4a14c1;throw new Error(_0xd599a3(0x14c));}[_0x4a14c1(0x150)](_0x1707f9){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0x4a14c1(0x139)](){const _0xe6a9ba=_0x4a14c1;throw new Error(_0xe6a9ba(0xf9));}[_0x4a14c1(0xe4)](_0x34b3ef){const _0x2fdf96=_0x4a14c1;throw new Error(_0x2fdf96(0xfc));}}class ParticleSystemObject extends SceneObject{constructor(_0x5452b2,_0x42586f,_0x59414f=0x1000){const _0x1d3e7f=_0x4a14c1;super(_0x5452b2,_0x42586f),this[_0x1d3e7f(0xfe)]=_0x59414f,this['_step']=0x0;}async[_0x4a14c1(0x14f)](){const _0x3bc5a8=_0x4a14c1;await this[_0x3bc5a8(0x11f)]();}async[_0x4a14c1(0x11f)](){const _0x1b2291=_0x4a14c1;this[_0x1b2291(0x103)]=new Float32Array(this[_0x1b2291(0xfe)]*0x8),this[_0x1b2291(0x138)]=[this[_0x1b2291(0x145)]['createBuffer']({'size':this[_0x1b2291(0x103)][_0x1b2291(0x113)],'usage':GPUBufferUsage[_0x1b2291(0x123)]|GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x1b2291(0x172)]|GPUBufferUsage[_0x1b2291(0x109)]}),this[_0x1b2291(0x145)][_0x1b2291(0xeb)]({'size':this[_0x1b2291(0x103)][_0x1b2291(0x113)],'usage':GPUBufferUsage[_0x1b2291(0x123)]|GPUBufferUsage['STORAGE']|GPUBufferUsage['COPY_DST']|GPUBufferUsage[_0x1b2291(0x109)]})],this['resetParticles']();}['resetParticles'](){const _0xbe0792=_0x4a14c1;for(let _0x39239d=0x0;_0x39239d<this['_numParticles'];++_0x39239d){this[_0xbe0792(0x103)][0x8*_0x39239d+0x0]=Math['random']()*0x2-0x1,this[_0xbe0792(0x103)][0x8*_0x39239d+0x1]=Math[_0xbe0792(0x116)]()*0x2-0x1,this[_0xbe0792(0x103)][0x8*_0x39239d+0x2]=this[_0xbe0792(0x103)][0x8*_0x39239d+0x0],this[_0xbe0792(0x103)][0x8*_0x39239d+0x3]=this[_0xbe0792(0x103)][0x8*_0x39239d+0x1];const _0x5b5dbd=0.0001;this[_0xbe0792(0x103)][0x8*_0x39239d+0x4]=(Math[_0xbe0792(0x116)]()*0x2-0x1)*_0x5b5dbd,this[_0xbe0792(0x103)][0x8*_0x39239d+0x5]=(Math[_0xbe0792(0x116)]()*0x2-0x1)*_0x5b5dbd;let _0x11b96d=Math['random']()*(0xff-0x80)+0x80;this['_particles'][0x8*_0x39239d+0x6]=_0x11b96d,this[_0xbe0792(0x103)][0x8*_0x39239d+0x7]=_0x11b96d;}this[_0xbe0792(0x120)]=0x0,this['_device'][_0xbe0792(0xfa)]['writeBuffer'](this[_0xbe0792(0x138)][this[_0xbe0792(0x120)]%0x2],0x0,this[_0xbe0792(0x103)]);}['updateGeometry'](){}async[_0x4a14c1(0x143)](){const _0x24b62c=_0x4a14c1;let _0x5acf68=await this[_0x24b62c(0x137)](_0x24b62c(0x132));this[_0x24b62c(0xdd)]=this[_0x24b62c(0x145)][_0x24b62c(0x122)]({'label':_0x24b62c(0xfd)+this[_0x24b62c(0x14d)](),'code':_0x5acf68}),this[_0x24b62c(0x131)]=this[_0x24b62c(0x145)]['createBindGroupLayout']({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x24b62c(0x123)]|GPUShaderStage[_0x24b62c(0xfb)],'buffer':{'type':_0x24b62c(0x111)}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x24b62c(0xde)}}]}),this[_0x24b62c(0x135)]=this[_0x24b62c(0x145)][_0x24b62c(0x110)]({'label':'Particles\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x24b62c(0x131)]]});}async[_0x4a14c1(0x161)](){await this['createParticlePipeline']();}async[_0x4a14c1(0x16f)](){const _0x507ec2=_0x4a14c1;this['_particlePipeline']=this[_0x507ec2(0x145)][_0x507ec2(0x161)]({'label':'Particles\x20Render\x20Pipeline\x20'+this[_0x507ec2(0x14d)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x507ec2(0xdd)],'entryPoint':_0x507ec2(0x16c)},'fragment':{'module':this[_0x507ec2(0xdd)],'entryPoint':'fragmentMain','targets':[{'format':this['_canvasFormat']}]},'primitive':{'typology':_0x507ec2(0x153)}}),this[_0x507ec2(0x14e)]=[this[_0x507ec2(0x145)]['createBindGroup']({'layout':this['_particlePipeline'][_0x507ec2(0x171)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x507ec2(0x138)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x507ec2(0x138)][0x1]}}]}),this['_device'][_0x507ec2(0x164)]({'layout':this[_0x507ec2(0x147)][_0x507ec2(0x171)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x507ec2(0x138)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x507ec2(0x138)][0x0]}}]})];}[_0x4a14c1(0x150)](_0x56aa7d){const _0x19e088=_0x4a14c1;_0x56aa7d['setPipeline'](this[_0x19e088(0x147)]),_0x56aa7d[_0x19e088(0x166)](0x0,this['_bindGroups'][this['_step']%0x2]),_0x56aa7d['draw'](0x80,this['_numParticles']);}async[_0x4a14c1(0x139)](){const _0x55b6c8=_0x4a14c1;this['_computePipeline']=this[_0x55b6c8(0x145)][_0x55b6c8(0x139)]({'label':_0x55b6c8(0x100)+this[_0x55b6c8(0x14d)](),'layout':this[_0x55b6c8(0x135)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x55b6c8(0x156)}});}[_0x4a14c1(0xe4)](_0x24d074){const _0x12cafd=_0x4a14c1;_0x24d074[_0x12cafd(0x115)](this[_0x12cafd(0x162)]),_0x24d074['setBindGroup'](0x0,this[_0x12cafd(0x14e)][this[_0x12cafd(0x120)]%0x2]),_0x24d074[_0x12cafd(0x12e)](Math[_0x12cafd(0x12f)](this[_0x12cafd(0xfe)]/0x100)),++this[_0x12cafd(0x120)];}}class StandardTextObject{constructor(_0x10b889,_0x712bed=0x5,_0x4da636='18px\x20Arial'){const _0x24e88f=_0x4a14c1;this[_0x24e88f(0x10d)]=_0x4da636,this['_lineSpacing']=_0x712bed,this['_textCanvas']=document['createElement'](_0x24e88f(0xf3)),this[_0x24e88f(0x117)]=this[_0x24e88f(0x121)][_0x24e88f(0x126)]('2d'),this[_0x24e88f(0x16a)](_0x10b889),this[_0x24e88f(0x163)](_0x10b889),this[_0x24e88f(0x121)][_0x24e88f(0xec)][_0x24e88f(0x12d)]='absolute',this[_0x24e88f(0x121)][_0x24e88f(0xec)]['top']=_0x24e88f(0x11b),this[_0x24e88f(0x121)]['style'][_0x24e88f(0x13c)]=_0x24e88f(0x11b),this[_0x24e88f(0x121)][_0x24e88f(0xec)][_0x24e88f(0x14b)]=_0x24e88f(0xf8),document['body'][_0x24e88f(0x105)](this[_0x24e88f(0x121)]);}[_0x4a14c1(0x157)](){const _0x3d5ef6=_0x4a14c1;this[_0x3d5ef6(0x121)][_0x3d5ef6(0x148)]=!this[_0x3d5ef6(0x121)][_0x3d5ef6(0x148)];}['updateTextRegion'](_0x25d059){const _0x195b6c=_0x4a14c1;this[_0x195b6c(0x117)][_0x195b6c(0x104)]=this[_0x195b6c(0x10d)],this[_0x195b6c(0x129)]=_0x25d059[_0x195b6c(0xe2)]('\x0a'),this['_width']=Math[_0x195b6c(0x101)](...this[_0x195b6c(0x129)][_0x195b6c(0x140)](_0x1a2d5c=>this[_0x195b6c(0x117)][_0x195b6c(0xf7)](_0x1a2d5c)[_0x195b6c(0x159)]));const _0x20cb00=this[_0x195b6c(0x10d)][_0x195b6c(0x11e)](/(\d+)px/);_0x20cb00?this[_0x195b6c(0x107)]=parseInt(_0x20cb00[0x1],0xa):(this[_0x195b6c(0x107)]=0x12,this[_0x195b6c(0x10d)]='18px\x20Arial'),this[_0x195b6c(0x170)]=this['_lines'][_0x195b6c(0xe1)]*(this[_0x195b6c(0x107)]+this[_0x195b6c(0x11a)]),this[_0x195b6c(0x124)]=0x5,this[_0x195b6c(0x146)]=0x3,this[_0x195b6c(0x167)]=Math[_0x195b6c(0x12f)](this[_0x195b6c(0x160)]+this[_0x195b6c(0x124)]*0x2),this[_0x195b6c(0xe8)]=Math['ceil'](this['_height']+this[_0x195b6c(0x146)]),this[_0x195b6c(0x121)][_0x195b6c(0x159)]=this[_0x195b6c(0x167)],this['_textCanvas'][_0x195b6c(0x154)]=this[_0x195b6c(0xe8)],this['_textContext'][_0x195b6c(0x104)]=this[_0x195b6c(0x10d)],this[_0x195b6c(0x117)][_0x195b6c(0xe5)]=_0x195b6c(0xf4);}[_0x4a14c1(0x163)](_0x16ca19){const _0x36010d=_0x4a14c1;this[_0x36010d(0x129)]=_0x16ca19[_0x36010d(0xe2)]('\x0a'),this[_0x36010d(0x117)]['fillStyle']=_0x36010d(0xf0),this['_textContext']['clearRect'](0x0,0x0,this[_0x36010d(0x167)],this[_0x36010d(0xe8)]),this[_0x36010d(0x117)]['fillRect'](0x0,0x0,this[_0x36010d(0x167)],this[_0x36010d(0xe8)]),this['_textContext'][_0x36010d(0x13b)]='white',this['_lines'][_0x36010d(0x10b)]((_0x191b1f,_0x5da2e2)=>{const _0x23b1d2=_0x36010d,_0x4cc351=this[_0x23b1d2(0x124)],_0x33ce85=this[_0x23b1d2(0x146)]+_0x5da2e2*(this[_0x23b1d2(0x107)]+this[_0x23b1d2(0x11a)]);this[_0x23b1d2(0x117)][_0x23b1d2(0x149)](_0x191b1f,_0x4cc351,_0x33ce85);});}}function _0x42ba(_0x5c1aa1,_0x14c045){const _0x1ecf0c=_0x1ecf();return _0x42ba=function(_0x42ba15,_0x1cafe1){_0x42ba15=_0x42ba15-0xdc;let _0x272081=_0x1ecf0c[_0x42ba15];return _0x272081;},_0x42ba(_0x5c1aa1,_0x14c045);}async function init(){const _0x2a34af=_0x4a14c1,_0x36f483=document[_0x2a34af(0x125)](_0x2a34af(0xf3));_0x36f483['id']='renderCanvas',document[_0x2a34af(0x134)][_0x2a34af(0x105)](_0x36f483);const _0x72fb86=new Renderer(_0x36f483);await _0x72fb86['init']();const _0xb2f1ca=new ParticleSystemObject(_0x72fb86[_0x2a34af(0x145)],_0x72fb86[_0x2a34af(0x13f)]);await _0x72fb86[_0x2a34af(0x118)](_0xb2f1ca);let _0x3fa75a='??';var _0x317eca=new StandardTextObject(_0x2a34af(0x168)+_0x3fa75a),_0x2cb4ba=0x0,_0x34d5b4=0x3c,_0x4b9a6c=0x1/_0x34d5b4,_0x3c205f=_0x4b9a6c*0x3e8,_0x33c00e;let _0x3d6413=()=>{const _0x19f6e6=_0x2a34af;let _0x1e2991=Date[_0x19f6e6(0xf6)]()-_0x33c00e;_0x1e2991>_0x3c205f&&(++_0x2cb4ba,_0x33c00e=Date[_0x19f6e6(0xf6)]()-_0x1e2991%_0x3c205f,_0x72fb86['render']()),requestAnimationFrame(_0x3d6413);};return _0x33c00e=Date[_0x2a34af(0xf6)](),_0x3d6413(),setInterval(()=>{const _0x15703e=_0x2a34af;_0x317eca[_0x15703e(0x163)](_0x15703e(0x168)+_0x2cb4ba),_0x2cb4ba=0x0;},0x3e8),_0x72fb86;}init()[_0x4a14c1(0x13e)](_0x45cecb=>{const _0xf56949=_0x4a14c1;console[_0xf56949(0x119)](_0x45cecb);})[_0x4a14c1(0x15b)](_0x752623=>{const _0x7af508=_0x4a14c1,_0x65b5bd=document['createElement']('p');_0x65b5bd['innerHTML']=navigator['userAgent']+_0x7af508(0x15d)+_0x752623[_0x7af508(0x130)],document[_0x7af508(0x134)][_0x7af508(0x105)](_0x65b5bd),document[_0x7af508(0x133)](_0x7af508(0xe3))[_0x7af508(0x16e)]();});